<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta property="og:type" content="website">
<meta property="og:title" content="imily&#39;s notes">
<meta property="og:url" content="http://yoursite.com/page/5/index.html">
<meta property="og:site_name" content="imily&#39;s notes">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="imily&#39;s notes">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/5/"/>





  <title> imily's notes </title><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">imily's notes</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            æ ‡ç­¾
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/08/18/NOI2020ç½‘ç»œåŒæ­¥èµ›ä½“éªŒè®°/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="imily">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="imily's notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2020/08/18/NOI2020ç½‘ç»œåŒæ­¥èµ›ä½“éªŒè®°/" itemprop="url">
                  NOI2020ç½‘ç»œåŒæ­¥èµ›ä½“éªŒè®°
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2020-08-18T18:49:40+08:00">
                2020-08-18
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Day1"><a href="#Day1" class="headerlink" title="$Day1$"></a>$Day1$</h2><hr>
<p>å‹¤å‹¤æ³æ³çš„æ‰£äº† 114 åˆ†ï¼Œå–æ¨¡é”™è¯¯ wa + å­—æ¯æ‰“é”™ï¼Œfst æˆ 82 åˆ†ã€‚ã€‚ã€‚å¥½éš¾å—å•Š</p>
<p>æ•´æ•´ 32 åˆ†å•Šã€‚è¿™å¦‚æœæ˜¯è”èµ›ï¼Œè°æ‹…çš„èµ·å‘¢ã€‚</p>
<h2 id="Day2"><a href="#Day2" class="headerlink" title="$Day2$"></a>$Day2$</h2><hr>
<p>å‹¤å‹¤æ³æ³çš„æŠ äº† ï¼Ÿåˆ†ï¼ˆå¯¹æˆ‘è‡ªå·±éƒ½ä¸ç¡®å®šæ­£ç¡®æ€§ï¼‰ï¼Œæ°‘é—´æ•°æ®è¿˜æ²¡å‡ºï¼ˆå‡ºäº†ä¹Ÿä¸æµ‹ qvqï¼‰</p>
<h2 id="å‡ºæˆç»©äº†"><a href="#å‡ºæˆç»©äº†" class="headerlink" title="å‡ºæˆç»©äº†"></a>å‡ºæˆç»©äº†</h2><hr>
<p>108</p>
<hr>
<p>ã€æ­¤å¤„åº”æœ‰é¢˜è§£ã€‘</p>
<hr>
<p>æ¥è¡¥äº†ã€‚</p>
<h2 id="D1T1-ç¾é£Ÿå®¶"><a href="#D1T1-ç¾é£Ÿå®¶" class="headerlink" title="$D1T1. ç¾é£Ÿå®¶$"></a>$D1T1. ç¾é£Ÿå®¶$</h2><p>æˆ‘æƒ³åˆ°çŸ©é˜µå¿«é€Ÿå¹‚äº†ï¼å†™å‡º $5n$ ä¸ªç‚¹çš„è½¬ç§»æŸ¿å­äº†ï¼ç”šè‡³æƒ³åˆ°é¢„å¤„ç† $2^i$ çš„çŸ©é˜µã€è¡Œå‘é‡å»ä¹˜æ˜¯ $n^2$ çš„äº†ï¼</p>
<p>ä½†æˆ‘æ²¡å†™å‡ºæ¥ã€‚ã€‚ã€‚å¥½å§ï¼Œä¸ä¼šå°±æ˜¯ä¸ä¼šï¼Œå¤æ‚åº¦æ˜¯ $O((5n)^3\ log\ T + (5n)^2\ log\ T \times K)$ã€‚ä½ åˆ«çœ‹ä»–æœ‰ 4e8ï¼Œäººå®¶æ˜¯ O(èƒ½è¿‡) è€¶= =</p>
<p>updï¼šè€ƒåœºä»£ç åˆ†æ®µä¹˜çš„æ—¶å€™é¢å¤–è´¡çŒ®åŠ é”™ä½ç½®äº†= = æˆ‘å“­</p>
<p><a href="https://loj.ac/submission/927790" target="_blank" rel="noopener">$Code$</a></p>
<h2 id="D1T2-å‘½è¿"><a href="#D1T2-å‘½è¿" class="headerlink" title="$D1T2. å‘½è¿$"></a>$D1T2. å‘½è¿$</h2><p><a href="https://imilyx.github.io/2020/09/08/%E4%BB%A5%20CF1327F%20%E4%B8%BA%E4%BB%A3%E8%A1%A8%E7%9A%84%E4%B8%80%E7%B1%BB%E9%99%90%E5%88%B6%E8%AE%A1%E6%95%B0%E9%97%AE%E9%A2%98/" target="_blank" rel="noopener">é“¾æ¥</a></p>
<h2 id="D1T3-æ—¶ä»£çš„çœ¼æ³ª"><a href="#D1T3-æ—¶ä»£çš„çœ¼æ³ª" class="headerlink" title="$D1T3. æ—¶ä»£çš„çœ¼æ³ª$"></a>$D1T3. æ—¶ä»£çš„çœ¼æ³ª$</h2><p>å’•å’•</p>
<h2 id="D2T1-åˆ¶ä½œèœå“"><a href="#D2T1-åˆ¶ä½œèœå“" class="headerlink" title="$D2T1. åˆ¶ä½œèœå“$"></a>$D2T1. åˆ¶ä½œèœå“$</h2><p>å…ˆå°† $d$ æ’åºã€‚</p>
<p>å‘ç°å¤§æ•°æ®èŒƒå›´é‡Œæœ‰ $n - 2 \leq m$ï¼Œéƒ¨åˆ†åˆ† $m = n - 1$ ä¼¼ä¹å¾ˆæœ‰æœªæ¥ã€‚</p>
<p>è€ƒè™‘éƒ¨åˆ†åˆ† $m = n - 1$ï¼Œ$d_1$ ä¸€å®šæ˜¯ $&lt; k$ çš„ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿå¦‚æœ $d_1 \geq k$, é‚£ä¹ˆ $\sum d_i \geq n times k &gt; (n - 1) times k = m \times k = \sum d_i$ï¼ŒçŸ›ç›¾ã€‚æ¯æ¬¡å‰Šæ‰ç¬¬ä¸€é¡¹ï¼Œ$n$ è½¬åŒ–æˆ $n - 1$ï¼Œä¸€å®šèƒ½å¤Ÿæ„é€ å‡ºæ¥ã€‚åŒæ—¶ $d_1 + d_n \neq k$ï¼Œç”¨åè¯æ³•ä¹Ÿå¯ä»¥è¯æ˜ã€‚</p>
<p>è€ƒè™‘ $m \geq n$ æ—¶ï¼Œ$d_n \geq k$ï¼Œè¯æ˜æ–¹æ³•åŒä¸Šé¢ç±»ä¼¼ã€‚äºæ˜¯å°† $d_n -= k$ï¼Œ<strong>å°±è½¬åŒ–æˆäº† $m = n - 1$ çš„é—®é¢˜</strong></p>
<p>æœ€åä¸€æ­¥ï¼$m = n - 2$ æ€ä¹ˆæã€‚ã€‚å¯ä»¥è¯æ˜ï¼Œ$m = n - 2$ æœ‰è§£çš„å……è¦æ¡ä»¶æ˜¯å¯ä»¥åˆ’åˆ†ä¸ºä¸¤ä¸ª $m = n - 1$ çš„å­é—®é¢˜ã€‚å……åˆ†æ€§å¾ˆå¥½è¯ï¼Œå¿…è¦æ€§å°±æ¯”è¾ƒå¦™ï¼šè€ƒè™‘ä¸€ä¸ª n ä¸ªç‚¹çš„å›¾ï¼Œèœå“è§†ä¸ºè¾¹ï¼Œé‚£ä¹ˆæœ€å¤šåªæœ‰ n - 2 æ¡è¾¹ï¼Œä¸ä¼šè¿é€šï¼Œæ­¤æ—¶å¿…ç„¶å­˜åœ¨è‡³å°‘ä¸¤ä¸ªè¿é€šå—æ˜¯æ ‘çš„å½¢æ€â€”â€”ä¸ºä»€ä¹ˆï¼Ÿå¦‚æœæ˜¯ç¯ï¼Œè¾¹å°±ä¸å¤Ÿç”¨äº†ã€‚</p>
<p>å®ç°çš„è¯ï¼Œè®¾ $S$ æ˜¯åˆ†å‡ºæ¥çš„é›†åˆä¹‹ä¸€ï¼Œ$sz = |S|$, é‚£ä¹ˆ $\sum\limits_{i \in S} d_i = (sz - 1) \times k$ï¼Œ$\sum\limits_{i \in S} (d_i - k) = -k$ï¼Œè¿™æ˜¯ä¸ª dpï¼Œ$f[i, j]$ è¡¨ç¤ºå‰ i ä¸ªä»»æ„å–èƒ½å¦ä½¿å¾—æ€»å’Œä¸º jï¼Œbitset ç»´æŠ¤, $O(\frac{n \times (n \times k)}{w})$</p>
<p><a href="https://loj.ac/submission/927794" target="_blank" rel="noopener">$Code$</a></p>
<h2 id="D2T2-è¶…ç°å®æ ‘"><a href="#D2T2-è¶…ç°å®æ ‘" class="headerlink" title="$D2T2. è¶…ç°å®æ ‘$"></a>$D2T2. è¶…ç°å®æ ‘$</h2><p>è¿™é¢˜å¥½ AT çš„æ ·å­ï¼Œç»“æœæ˜¯é“ç»“è®ºé¢˜ï¼ˆè„‘å­ä¸å¥½ æ­»ä¹Ÿæƒ³ä¸å‡ºå•Šã€‚ã€‚</p>
<p><a href="https://www.luogu.com.cn/blog/startd/solution-p6776" target="_blank" rel="noopener">å¤§ä½¬æ€è·¯</a></p>
<p>â€œå‡ ä¹å®Œå¤‡â€è¿™ç§å…³ç³»å¯ä»¥ä¼ é€’ã€‚å¤ªå¦™äº†å§ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼</p>
<p><a href="https://loj.ac/submission/927797" target="_blank" rel="noopener">$Code$</a></p>
<h2 id="D2T3-ç¿»ä¿®é“è·¯"><a href="#D2T3-ç¿»ä¿®é“è·¯" class="headerlink" title="$D2T3. ç¿»ä¿®é“è·¯$"></a>$D2T3. ç¿»ä¿®é“è·¯$</h2><p>å’•å’•</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/08/15/Codeforces Round 659 Div1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="imily">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="imily's notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2020/08/15/Codeforces Round 659 Div1/" itemprop="url">
                  Codeforces Round 659 Div1
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2020-08-15T14:31:40+08:00">
                2020-08-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>æœ€è¿‘çš„åœºå­ï¼Œåšä¸€ä¸‹ã€‚</p>
<h2 id="A"><a href="#A" class="headerlink" title="A"></a>A</h2><hr>
<p>è´ªå¿ƒå°±å¥½äº†ï¼Ÿä¹Ÿå¯ä»¥å¹¶æŸ¥é›†ç»´æŠ¤ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i, x, y) for (int i = x; i &lt;= y; i++)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> T, n, num[<span class="number">30</span>][<span class="number">30</span>];</span><br><span class="line"><span class="keyword">char</span> a[N], b[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; T;</span><br><span class="line">    <span class="keyword">while</span> (T--) &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%s%s"</span>, a + <span class="number">1</span>, b + <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">bool</span> ff = <span class="number">1</span>;</span><br><span class="line">        rep(i, <span class="number">1</span>, n) <span class="keyword">if</span> (a[i] &gt; b[i]) &#123; ff = <span class="number">0</span>; <span class="keyword">break</span>; &#125;</span><br><span class="line">        <span class="keyword">if</span> (!ff) &#123; <span class="built_in">puts</span>(<span class="string">"-1"</span>); <span class="keyword">continue</span>; &#125;</span><br><span class="line">        <span class="built_in">memset</span>(num, <span class="number">0</span>, <span class="keyword">sizeof</span>(num));</span><br><span class="line">        rep(i, <span class="number">1</span>, n) &#123;</span><br><span class="line">            <span class="keyword">if</span> (a[i] != b[i])</span><br><span class="line">                num[a[i] - <span class="string">'a'</span>][b[i] - <span class="string">'a'</span>]++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        rep(i, <span class="number">0</span>, <span class="number">25</span>) &#123;</span><br><span class="line">            rep(j, i + <span class="number">1</span>, <span class="number">25</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (num[i][j]) &#123;</span><br><span class="line">                    ++ans;</span><br><span class="line">                    num[i][j] = <span class="number">0</span>;</span><br><span class="line">                    rep(k, j + <span class="number">1</span>, <span class="number">25</span>) &#123;</span><br><span class="line">                        <span class="keyword">if</span> (num[i][k]) &#123;</span><br><span class="line">                            num[j][k] += num[i][k], num[i][k] = <span class="number">0</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="B"><a href="#B" class="headerlink" title="B"></a>B</h2><hr>
<p>å‘ç°å¦‚æœæœ‰ä¸€ä½ 1 çš„ä¸ªæ•°æ˜¯å¥‡æ•°å°±å¿…ç„¶ä¸ä¼šå¹³å±€ï¼Œç„¶ååˆ†ç±»è®¨è®ºå°±å¥½äº†ã€‚</p>
<h2 id="C"><a href="#C" class="headerlink" title="C"></a>C</h2><hr>
<p>C å’Œ A çš„åŒºåˆ«åœ¨äº C æœ‰ç¯ã€‚</p>
<h2 id="D"><a href="#D" class="headerlink" title="D"></a>D</h2><hr>
<h2 id="E"><a href="#E" class="headerlink" title="E"></a>E</h2><hr>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/08/15/APIO2020 ä½“éªŒè®°/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="imily">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="imily's notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2020/08/15/APIO2020 ä½“éªŒè®°/" itemprop="url">
                  APIO2020 ä½“éªŒè®°
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2020-08-15T14:24:40+08:00">
                2020-08-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>å¹³å¿ƒè€Œè®ºï¼Œè¿™ä¸€åœºçš„æš´åŠ›å¹¶ä¸æ¯” APIO2019 å°‘å¾ˆå¤šï¼Œæ‰€ä»¥å¦‚æœç­–ç•¥ä¸å¤±è¯¯çš„è¯å‡ ååˆ†æ˜¯è‚¯å®šæœ‰çš„ã€‚ä½†æ˜¯ä¸€ç›´åœ¨åˆš T1ï¼ŒæœŸé—´çŸ­æš‚çš„æ€è€ƒè¿‡ T2ï¼ŒT1 ä¸çŸ¥é“æ˜¯ä»€ä¹ˆæ¶å¿ƒæ•°æ®æŠŠæˆ‘å¡äº†= = äºæ˜¯å°±çˆ† 0 äº† æ²¡æœ‰ä½“ä¼šåˆ°æ‹¿åˆ†çš„å¿«æ„Ÿ</p>
<p>æ‰€ä»¥<strong>ç­–ç•¥</strong>æ˜¯å¤šä¹ˆé‡è¦å•Šï¼Œ<strong>å¼€é¢˜é¡ºåº</strong>ä¸ä¼šæ°¸è¿œæ˜¯ 1-&gt;2-&gt;3 çš„å•Šã€‚</p>
<p>ä¸‹é¢å°±æ”¾ä¸€äº›è®¢æ­£çš„é¢˜è§£å§ã€‚</p>
<h2 id="A"><a href="#A" class="headerlink" title="A"></a>A</h2><hr>
<p>é¢„å¤„ç† + å•è°ƒé˜Ÿåˆ—ï¼Œæœ€ä¼˜æ€§é—®é¢˜ -&gt; åˆ¤å®šæ€§é—®é¢˜</p>
<p>ç”±äºä¿è¯äº† $\sum f(k)^2 \leq 4e5$ï¼Œæ‰€ä»¥ $max(f(k))$ æœ€å¤§å°± 600 å¤šï¼Œè™½ç„¶å¾ˆç²—ç³™ä½†è¿™æ˜¯æˆ‘ä»¬å¾—åˆ°çš„æœ€ä¸ºæœ‰æ•ˆçš„ä¿¡æ¯</p>
<p>åªè®²é¢„å¤„ç†ã€‚$dp[i, j]$ è¡¨ç¤ºåˆ°ä½ç½® $i$ã€æ‰¿åŒ…å•† $j$ çš„æœ€å¤§ç²‰åˆ·é•¿åº¦ï¼Œ$dp[i, j] \geq m$ é‚£ $[i - m + 1, i]$ å°±èƒ½è¢«ç²‰åˆ·ã€‚</p>
<p>$dp[i, j] = dp[i - 1, (j - 1 + m)\ \%\ m] + 1(j \in c_i)$ï¼Œè¿™æ ·æ—¶ç©ºéƒ½æ˜¯ $O(nm)$ çš„ï¼Œç©ºé—´å¯ä»¥æ»šåŠ¨æ•°ç»„ä¼˜åŒ–ï¼Œæ—¶é—´å¯ä»¥ç”¨ $vector$ å­˜æ¯ä¸ªä½ç½®åˆæ³•çš„ $j$ï¼Œè¿™æ ·å¤§æ¦‚æ˜¯ $O(n * max(f(k)))$ï¼Œç¨³å¾—å¾ˆ</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"paint.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i, x, y) for (int i = x; i &lt;= y; i++)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">1e5</span> + <span class="number">10</span>, M = <span class="number">5e4</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> n, m, K, C[N], A[M], B[N], f[<span class="number">2</span>][M], dp[N], q[N], l, r;</span><br><span class="line"><span class="keyword">bool</span> valid[N];</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; c, a, id[N];</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; b;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">minimumInstructions</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> m, <span class="keyword">int</span> K, <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; c, <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; a, <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x = <span class="number">0</span>;</span><br><span class="line">    rep(i, <span class="number">0</span>, m - <span class="number">1</span>) &#123;</span><br><span class="line">        rep(j, <span class="number">0</span>, a[i] - <span class="number">1</span>) &#123;</span><br><span class="line">            id[b[i][j]].push_back(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    rep(i, <span class="number">0</span>, n - <span class="number">1</span>) &#123;</span><br><span class="line">        x ^= <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (i &gt; <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; id[c[i - <span class="number">2</span>]].size(); k++) &#123;</span><br><span class="line">                <span class="keyword">int</span> j = id[c[i - <span class="number">2</span>]][k];</span><br><span class="line">                f[x][j] = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; id[c[i]].size(); k++) &#123;</span><br><span class="line">            <span class="keyword">int</span> j = id[c[i]][k];</span><br><span class="line">            f[x][j] = f[x ^ <span class="number">1</span>][(j - <span class="number">1</span> + m) % m] + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span> (f[x][j] &gt;= m) valid[i] = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">memset</span>(dp, <span class="number">0x3f</span>, <span class="keyword">sizeof</span>(dp));</span><br><span class="line">    dp[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    q[l = r = <span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">    rep(i, <span class="number">1</span>, n) &#123;</span><br><span class="line">        <span class="keyword">while</span> (l &lt;= r &amp;&amp; q[l] &lt; i - m) ++l;</span><br><span class="line">        <span class="keyword">if</span> (l &lt;= r &amp;&amp; valid[i - <span class="number">1</span>]) dp[i] = dp[q[l]] + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (l &lt;= r &amp;&amp; dp[q[r]] &gt;= dp[i]) --r;</span><br><span class="line">        q[++r] = i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (dp[n] &gt; <span class="number">1e9</span>) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">return</span> dp[n];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="B"><a href="#B" class="headerlink" title="B"></a>B</h2><hr>
<p>æ±‚çš„æ˜¯æœ€å°éé“¾çŠ¶ç“¶é¢ˆè·¯ï¼Œå¯ä»¥åœ¨æ±‚æœ€å°ç“¶é¢ˆè·¯çš„ç®—æ³•â€”â€”$kruskal$é‡æ„æ ‘ä¸Šç•¥ä½œä¿®æ”¹ã€‚</p>
<p>å…·ä½“æ¥è¯´ï¼ŒåŠ è¾¹çš„æ—¶å€™å°±ä¸è¦èˆå¼ƒè¾¹äº†ï¼Œéƒ½åŠ ä¸Šã€‚è€ƒè™‘$kruskal$é‡æ„æ ‘çš„æ€§è´¨ï¼Œä¸€ä¸ªç‚¹æƒä¸º $w$ çš„èŠ‚ç‚¹å­æ ‘å†…çš„ç‚¹ç»„æˆä¸€ä¸ªè¾¹æƒä¸è¶…è¿‡ $w$ çš„è¿é€šå—ã€‚å¯¹äºæ¯ä¸ªé‡æ„æ ‘ä¸Šçš„èŠ‚ç‚¹ï¼Œç»´æŠ¤ä¸€ä¸ªæ ‡è®°è¡¨ç¤ºå®ƒå¯¹åº”çš„è¿é€šå—æ˜¯å¦æ˜¯éé“¾çŠ¶è·¯ã€‚éé“¾çŠ¶è·¯çš„å…³ç³»å¯ä»¥ä¼ é€’ï¼Œå³å¦‚æœå„¿å­çš„æ ‡è®° $= 1$ é‚£ä¹ˆçˆ¶äº²çš„æ ‡è®°ä¹Ÿ $= 1$ã€‚æ¯æ¬¡è¯¢é—®å€å¢æ‰¾ç¬¬ä¸€ä¸ªæ ‡è®° $= 1$ çš„ç‚¹ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"swap.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i, x, y) for (int i = x; i &lt;= y; i++)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">3e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> n, m, Q, U[N], V[N], W[N], f[N][<span class="number">21</span>], fa[N], idx, deg[N], dep[N], val[N];</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; u, v, w, g[N];</span><br><span class="line"><span class="keyword">bool</span> mark[N];</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span> &#123;</span> <span class="keyword">int</span> x, y, z; &#125;e[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getfa</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> fa[x] == x ? x : fa[x] = getfa(fa[x]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(edge a, edge b)</span> </span>&#123; <span class="keyword">return</span> a.z &lt; b.z; &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; g[x].size(); i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> y = g[x][i];</span><br><span class="line">        dep[y] = dep[x] + <span class="number">1</span>;</span><br><span class="line">        dfs(y);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Kruskal</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    rep(i, <span class="number">1</span>, n) fa[i] = i;</span><br><span class="line">    sort(e + <span class="number">1</span>, e + m + <span class="number">1</span>, cmp);</span><br><span class="line">    idx = n;</span><br><span class="line">    rep(i, <span class="number">1</span>, m) &#123;</span><br><span class="line">        <span class="keyword">int</span> x = getfa(e[i].x), y = getfa(e[i].y), z = e[i].z;</span><br><span class="line">        ++idx;</span><br><span class="line">        <span class="keyword">if</span> (x == y) &#123;</span><br><span class="line">            val[idx] = z;</span><br><span class="line">            f[x][<span class="number">0</span>] = idx;</span><br><span class="line">            fa[x] = fa[idx] = idx;</span><br><span class="line">            mark[idx] = <span class="number">1</span>;</span><br><span class="line">            g[idx].push_back(x);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            val[idx] = z;</span><br><span class="line">            f[x][<span class="number">0</span>] = f[y][<span class="number">0</span>] = idx;</span><br><span class="line">            fa[x] = fa[y] = fa[idx] = idx;</span><br><span class="line">            <span class="keyword">if</span> (mark[x] || mark[y] || (++deg[e[i].x]) &gt; <span class="number">2</span> || (++deg[e[i].y]) &gt; <span class="number">2</span>)  <span class="comment">// å­æ ‘ä¸­å­˜åœ¨éé“¾çŠ¶å—</span></span><br><span class="line">                mark[idx] = <span class="number">1</span>;</span><br><span class="line">            g[idx].push_back(x), g[idx].push_back(y);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    mark[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    rep(j, <span class="number">1</span>, <span class="number">19</span>)</span><br><span class="line">        rep(i, <span class="number">1</span>, idx)</span><br><span class="line">            f[i][j] = f[f[i][j - <span class="number">1</span>]][j - <span class="number">1</span>];</span><br><span class="line">    dep[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    dfs(idx);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">(<span class="keyword">int</span> nn, <span class="keyword">int</span> mm,</span></span></span><br><span class="line"><span class="function"><span class="params">          <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; u, <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v, <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; w)</span> </span>&#123;</span><br><span class="line">    n = nn, m = mm;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++)</span><br><span class="line">        e[i + <span class="number">1</span>] = (edge)&#123;u[i] + <span class="number">1</span>, v[i] + <span class="number">1</span>, w[i]&#125;;</span><br><span class="line">    Kruskal();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">lca</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (dep[x] &lt; dep[y]) swap(x, y);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">19</span>; i &gt;= <span class="number">0</span>; --i)</span><br><span class="line">        <span class="keyword">if</span> (dep[f[x][i]] &gt;= dep[y]) x = f[x][i];</span><br><span class="line">    <span class="keyword">if</span> (x == y) <span class="keyword">return</span> x;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">19</span>; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line">        <span class="keyword">if</span> (f[x][i] != f[y][i]) x = f[x][i], y = f[y][i];</span><br><span class="line">    <span class="keyword">return</span> f[x][<span class="number">0</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getMinimumFuelCapacity</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> xy = lca(++x, ++y);</span><br><span class="line">    <span class="keyword">if</span> (mark[xy]) <span class="keyword">return</span> val[xy];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">19</span>; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line">        <span class="keyword">if</span> (!mark[f[xy][i]]) xy = f[xy][i];</span><br><span class="line">    xy = f[xy][<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">return</span> xy ? val[xy] : <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="C"><a href="#C" class="headerlink" title="C"></a>C</h2><hr>
<p>å’•å’•ï¼Ÿ</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/08/14/XJOI200814 é¢˜è§£/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="imily">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="imily's notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2020/08/14/XJOI200814 é¢˜è§£/" itemprop="url">
                  XJOI200814 é¢˜è§£
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2020-08-14T12:25:40+08:00">
                2020-08-14
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>ä»Šå¤©èµ› 1 æ˜¯è”èµ›éš¾åº¦ã€‚æ„Ÿåˆ°è‡ªå·±æœ‰å¾ˆå¤šä¸è¶³ã€‚</p>
<p>èµ›2ï¼šä»€ä¹ˆå«åšä¹±æå•Š /kk</p>
<p><a href="http://115.236.49.52:83/contest/1587" target="_blank" rel="noopener">èµ›1</a>    <a href="http://115.236.49.52:83/contest/1588" target="_blank" rel="noopener">èµ›2</a></p>
<h2 id="1A"><a href="#1A" class="headerlink" title="1A"></a>1A</h2><hr>
<p>æ²¡æƒ³å‡ºæ¥ä½†è¿™ç§é¢˜æœ‰å¯èƒ½ä¼šå‡ºç°åœ¨æ­£å¼èµ›åœºä¸Šï¼Œ<strong>æ‰€ä»¥è¦ä¼šä¹±æå•Šï¼</strong></p>
<p>æ­£è§£å°±æ˜¯é€‰å‡º K / m ä¸ªæ•´è¡ŒåŠ ä¸Š K % m ä¸ªåœ¨åŒä¸€è¡Œçš„å…ƒç´ ã€‚</p>
<p>æœ‰ä¸ªä¼ªè¯ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">(a, b, c, d), e, f</span><br><span class="line">(h, i, j), k, l, m</span><br><span class="line"></span><br><span class="line">åˆ’äº†æ‹¬å·çš„æ˜¯é€‰çš„ã€‚</span><br><span class="line">1. j = e é‚£ä¹ˆä¸é€‰ (i, j) æ”¹é€‰ (e, f) ä¸ä¼šæ›´åŠ£</span><br><span class="line">2. j &gt; e ä¸é€‰ (i, j) æ”¹é€‰ (e, f)</span><br><span class="line">3. j &lt; e é‚£ä¹ˆ b &gt;= c &gt;= d &gt;= e &gt; j &gt;= k &gt;= l &gt;= mï¼Œä¸é€‰ (b, c, d) æ”¹é€‰ (k, l, m)</span><br><span class="line">æ‰€ä»¥å¤§æ¦‚å¯ä»¥è¯´æ˜ä¸¤è¡Œå¯ä»¥åˆå¹¶æˆä¸€è¡Œï¼Œå³å¿…é¡»å–æ»¡å…¶ä¸­ä¸€è¡Œã€‚</span><br></pre></td></tr></table></figure></p>
<h2 id="1B"><a href="#1B" class="headerlink" title="1B"></a>1B</h2><hr>
<p>å›¾è®ºä»Šå¤©çœŸçš„è¦åˆ·èµ·æ¥äº†ï¼Œè¿™é¢˜ lca æä¸€æå°±å¥½äº†å•Šï¼éƒ½å¿˜å…‰äº†ã€‚ã€‚ã€‚æ ‘ä¸Šè·¯å¾„å°±æ˜¯åˆ° lca çš„è·¯å¾„å•Šã€‚ã€‚ã€‚</p>
<p>é‚£ä¹ˆåˆ†ä¸¤ç§æƒ…å†µï¼š</p>
<ul>
<li>$lca(c, d)$ åœ¨ $lca(a, b)$ å­æ ‘ä¸­ï¼šå‘ç° $lca(c, d)$ ä¸åœ¨ $a$ åˆ° $b$ è·¯å¾„ä¸Šå³å¯</li>
<li>$lca(c, d)$ ä¸åœ¨ $lca(a, b)$ å­æ ‘ä¸­ï¼š$c$ åˆ° $d$ çš„è·¯å¾„ä¸ç»è¿‡è¿æ¥ $lca(a, b)$ å’Œ $fa[lca(a, b)]$ çš„è¾¹å³å¯</li>
</ul>
<p>äºæ˜¯é¢„å¤„ç†ä¸€æ³¢å°±å¯ä»¥äº†ã€‚</p>
<p>ï¼ˆxjæ•°æ®æ°´ï¼Œæˆ‘ä¸€ä¸ª $O(n(nq + n^2))$ çš„æš´åŠ›è·‘è¿‡å»äº†ã€‚ã€‚ã€‚ã€‚ï¼‰</p>
<h2 id="1C"><a href="#1C" class="headerlink" title="1C"></a>1C</h2><hr>
<p>ç¥ä»™æ„é€ ï¼ˆnoipè€ƒæ„é€ å—ï¼‰æ˜¾ç„¶ $S &gt; \frac{n(n - 1)}{2}$ çš„æ—¶å€™æ— è§£ã€‚ç„¶åè¿˜ä¸ä¼šã€‚ã€‚å’•å’•</p>
<h2 id="2A"><a href="#2A" class="headerlink" title="2A"></a>2A</h2><hr>
<p>è¿™å¾ˆ Atcoder å•Šã€‚ã€‚ç¥ä»™æ„é€  + å¤§ä¹±æé¢˜ï¼Ÿå’•å’•</p>
<h2 id="2B"><a href="#2B" class="headerlink" title="2B"></a>2B</h2><hr>
<p>ç«Ÿç„¶ç»™æˆ‘ä¹±æå‡ºæ¥äº†ï¼è€ƒè™‘æ“ä½œåºåˆ—æ˜¯å½¢å¦‚ $(((S + k_1a)b + k_2a)b + k_3a)b + â€¦$ è¿™æ ·çš„ã€‚æˆ‘ä»¬æšä¸¾æœ‰å‡ ä¸ª $b$ï¼ˆæ˜¾ç„¶åªæœ‰ log ç§ï¼‰ï¼Œå°±å˜æˆç±»ä¼¼äºè¿›åˆ¶ï¼Œæ‰€ä»¥è¦è®© $\sum_i k_i$ æœ€å°ï¼Œåªè¦â€œèƒ½å‡åˆ™å‡â€å°±å¯ä»¥äº†ã€‚</p>
<p>â€”åˆ†å‰²çº¿â€”</p>
<p>æˆ‘é”™äº†ã€‚è¿™é¢˜æ²¡æœ‰ä¸€ç‚¹ç´ è´¨ï¼Œå®ƒçš„é‡ç‚¹æ ¹æœ¬å°±æ˜¯åˆ†ç±»è®¨è®ºï¼Œæˆ‘åäº† æ€åšé¢˜ğŸ’¢</p>
<p>!s   !t   s &lt; t   !a   !b   b = 1 è¿™äº›ä½ éƒ½åˆ¤äº†å—</p>
<h2 id="2C"><a href="#2C" class="headerlink" title="2C"></a>2C</h2><hr>
<p>å‚»äº†å‚»äº†ï¼Œæšä¸¾<strong>ç¬¬ä¸€ä¸ª</strong>aã€bã€cå‡ºç°çš„ä½ç½®å°±å¥½äº†å‘—ï¼è¿™æ˜¯ $O(n^3)$ çš„ï¼Œç„¶å $O(n^2)$ çš„ç”¨æ ‘çŠ¶æ•°ç»„ç»´æŠ¤å°±å¥½äº†ï¼ˆï¼Ÿ</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/08/13/XJOI200813 é¢˜è§£/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="imily">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="imily's notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2020/08/13/XJOI200813 é¢˜è§£/" itemprop="url">
                  XJOI200813 é¢˜è§£
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2020-08-13T14:36:40+08:00">
                2020-08-13
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>åˆæ˜¯ä¸€å¤©ä¸¤åœºçš„ XJOI noi æ¨¡æ‹Ÿèµ›ï¼Œæ¯å¤©éƒ½æ˜¯æš´åŠ›é€‰æ‰‹ è¢«åŠç€æ‰“ /kk</p>
<p><a href="http://115.236.49.52:83/contest/1583" target="_blank" rel="noopener">èµ›1</a>    <a href="http://115.236.49.52:83/contest/1585" target="_blank" rel="noopener">èµ›2</a></p>
<h2 id="1A"><a href="#1A" class="headerlink" title="1A"></a>1A</h2><hr>
<p>å†™äº† $n^2$ çš„ dpï¼Œä¸€éè¿‡æ ·ä¾‹å¥½è¯„ï¼ˆã€‚ï¼‰æ­£è§£æ˜¯ dp ä¼˜åŒ–ï¼Œç„¶è€Œè¿™é¢˜ dp æœ‰å¾ˆå¤šç§ï¼Œæˆ‘è¿™ç§æ²¡æ³•ä¼˜åŒ–çš„æ ·å­ï¼ˆçœ‹èµ·æ¥å¾ˆç¬¨ï¼ï¼‰</p>
<p><a href="https://www.cnblogs.com/Flying2018/p/13498384.html" target="_blank" rel="noopener">æ¥çœ‹çœ‹flying2018å¤§ä½¬çš„é¢˜è§£</a></p>
<h2 id="1B"><a href="#1B" class="headerlink" title="1B"></a>1B</h2><hr>
<p>æš´åŠ›æ²¡å†™å°±ç‰¹åˆ«ä¸åº”è¯¥ã€‚æ¨¡å¹¶ä¸ä¼šå¯¹æ­£ç¡®æ€§æœ‰å½±å“ã€‚ã€‚ã€‚30åˆ†è¿˜æ˜¯å¾ˆå¥½æ‹¿åˆ°çš„ã€‚è€ƒè™‘ $gcd = 1$ çš„é‚£æ¡£å­åˆ†ï¼Œç”»ä¸€ç”»å›¾æ‰¾è§„å¾‹å°±å¥½äº†å‘—ï¼Œ60åˆ†ä¹Ÿä¸éš¾å•Šã€‚</p>
<h2 id="1C"><a href="#1C" class="headerlink" title="1C"></a>1C</h2><hr>
<p>60åˆ†è¿™ä¹ˆé¦™ä½ ä¸ºä»€ä¹ˆä¸å†™ï¼Ÿå•Šï¼Ÿå•Šï¼Ÿï¼Ÿå•Šï¼Ÿï¼Ÿï¼$T = 2$ dp, $f[i, j]$ è¡¨ç¤ºç¬¬ $i$ ä¸ªåŒºé—´èƒ½å¦å’Œç¬¬ $i + 1$ ä¸ªåŒºé—´äº¤æ¢ï¼›$l_i = i$ çš„é‚£æ¡£å­åˆ†æ‰“ä¸ªè¡¨æ‰¾è§„å¾‹å°±å‡ºæ¥äº†ï¼Œ$g[i] = 2g[i - 1] + i - 2$</p>
<h2 id="2A"><a href="#2A" class="headerlink" title="2A"></a>2A</h2><hr>
<p>é¢˜ç›®å¥½åƒå‡ºé”…äº†ï¼Œå’•å’•</p>
<h2 id="2B"><a href="#2B" class="headerlink" title="2B"></a>2B</h2><hr>
<p>ä¸ä¼šï¼Œå’•å’•</p>
<p>â€”åˆ†å‰²çº¿â€”</p>
<p>æ¥è®¢æ­£äº†ã€‚æ€ç»´æœ‰ç‚¹éš¾åº¦ä½†å¹¶ä¸æ˜¯å¾ˆæ¯’çš„å›¾è®ºé¢˜ï¼Œå›¾è®ºæˆ‘å¤ªèœäº†å•Š /kk ä¸“é¢˜è¦åˆ·èµ·æ¥äº†ï¼</p>
<p>æ˜¾ç„¶æ“ä½œäºŒå’Œä¸‰å»ºåå›¾é¢„å¤„ç†ä¸€æ³¢å°±å¥½äº†ï¼Œéš¾ç‚¹åœ¨æ“ä½œä¸€ã€‚åŸé¢˜æ˜¯ <a href="https://www.luogu.com.cn/problem/P3573" target="_blank" rel="noopener">[POI2014]RAJ-Rally</a></p>
<p>è€ƒè™‘ DAG çš„æ€§è´¨ã€‚è®¾ x çš„æ‹“æ‰‘åºä¸º dfn[x], å¯¹äºä¸€æ¡è¾¹ (x, y) æ˜¾ç„¶ dfn[x] &lt; dfn[y]ã€‚å¼ºåˆ¶èµ° (x, y) çš„è¯æ˜¾ç„¶æ‹“æ‰‘åºåœ¨ dfn[x] ~ dfn[y] ä¹‹é—´çš„ç‚¹éƒ½ä¸ä¼šç»è¿‡ï¼Œäºæ˜¯æƒ³åˆ°ç”¨ (x, y) æ¥æ›´æ–°é‚£äº›ç‚¹ã€‚</p>
<p>å…·ä½“æ¥è¯´ï¼Œè®¾æ‹“æ‰‘åºæ¯” x å°çš„é›†åˆä¸º Aï¼Œæ¯” x å¤§çš„é›†åˆä¸º Bï¼Œä»¥ x ä¸ºç»ˆç‚¹çš„æœ€é•¿è·¯å¾„ä¸º dt[x]ï¼Œä¸ºèµ·ç‚¹çš„æœ€é•¿è·¯å¾„ä¸º ds[x], $f[x] = \max\limits_{(u, v) \in E, u \in A, v \in B}(dt[u] + 1 + ds[v])$</p>
<p>é¢„å¤„ç†è¿™ä¸ª f, å‘ç°æ¯æ¬¡ x å¢å¤§ï¼ŒA åªä¼šå¤šä¸€ä¸ªæ•°ï¼ŒB åªä¼šå°‘ä¸€ä¸ªæ•°ï¼Œå¯ä»¥åŠ¨æ€ç»´æŠ¤æœ€å¤§å€¼ã€‚</p>
<p><a href="https://www.luogu.com.cn/blog/ButterflyDew/solution-p3573" target="_blank" rel="noopener">è¿™ç¯‡åšå®¢çš„å›¾éå¸¸æ¸…æ™°ï¼Œå¯ä»¥å¸®åŠ©ç†è§£åŠ¨æ€ç»´æŠ¤çš„è¿‡ç¨‹</a></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i, x, y) for (int i = x; i &lt;= y; i++)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">2e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> n, m, K;</span><br><span class="line"><span class="keyword">int</span> degt[N], degs[N], dt[N], ds[N], ans[N], id[N], tot;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span> &#123;</span> <span class="keyword">int</span> x, y; &#125;e[N];</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; gt[N], gs[N];</span><br><span class="line"><span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; q;</span><br><span class="line"><span class="built_in">multiset</span>&lt;<span class="keyword">int</span>&gt; s;</span><br><span class="line"><span class="built_in">multiset</span>&lt;<span class="keyword">int</span>&gt;::iterator it;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m &gt;&gt; K;</span><br><span class="line">    rep(i, <span class="number">1</span>, m) &#123;</span><br><span class="line">        <span class="keyword">int</span> x, y; <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;x, &amp;y);</span><br><span class="line">        e[i].x = x, e[i].y = y;</span><br><span class="line">        degt[y]++, degs[x]++;</span><br><span class="line">        gt[x].push_back(y), gs[y].push_back(x);</span><br><span class="line">    &#125;</span><br><span class="line">    rep(i, <span class="number">1</span>, n) <span class="keyword">if</span> (!degt[i]) q.push(i);</span><br><span class="line">    <span class="keyword">while</span> (q.size()) &#123;</span><br><span class="line">        <span class="keyword">int</span> x = q.front(); q.pop();</span><br><span class="line">        id[++tot] = x;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; gt[x].size(); i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> y = gt[x][i];</span><br><span class="line">            dt[y] = max(dt[y], dt[x] + <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">if</span> (!(--degt[y])) q.push(y);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    rep(i, <span class="number">1</span>, n) <span class="keyword">if</span> (!degs[i]) q.push(i);</span><br><span class="line">    <span class="keyword">while</span> (q.size()) &#123;</span><br><span class="line">        <span class="keyword">int</span> x = q.front(); q.pop();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; gs[x].size(); i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> y = gs[x][i];</span><br><span class="line">            ds[y] = max(ds[y], ds[x] + <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">if</span> (!(--degs[y])) q.push(y);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    rep(i, <span class="number">1</span>, n) s.insert(ds[i]);</span><br><span class="line">    rep(o, <span class="number">1</span>, n) &#123;</span><br><span class="line">        <span class="keyword">int</span> x = id[o];</span><br><span class="line">        s.erase(s.find(ds[x]));</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; gs[x].size(); i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> y = gs[x][i];</span><br><span class="line">            s.erase(s.find(ds[x] + <span class="number">1</span> + dt[y]));</span><br><span class="line">        &#125;</span><br><span class="line">        ans[x] = *s.rbegin();</span><br><span class="line">        s.insert(dt[x]);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; gt[x].size(); i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> y = gt[x][i];</span><br><span class="line">            s.insert(dt[x] + <span class="number">1</span> + ds[y]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (K--) &#123;</span><br><span class="line">        <span class="keyword">int</span> ty, x; <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;ty, &amp;x);</span><br><span class="line">        <span class="keyword">if</span> (ty == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, ans[x]);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (ty == <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, dt[x] + ds[x]);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, dt[e[x].x] + ds[e[x].y] + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2C"><a href="#2C" class="headerlink" title="2C"></a>2C</h2><hr>
<p>min25ç­›å’Œæš´æœå‡å¯ ACï¼ˆé›¾ï¼‰ä¸ä¼š min25 å°±åªèƒ½å†™æš´æœå•¦ï¼</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i, x, y) for (int i = x; i &lt;= y; i++)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">1e6</span> + <span class="number">10</span>;</span><br><span class="line">ll n, P;</span><br><span class="line">ll mark[N], p[N], tot, cnt[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sieve</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    rep(i, <span class="number">2</span>, n) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!mark[i]) p[++tot] = i, cnt[i] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= tot &amp;&amp; i * p[j] &lt;= n; j++) &#123;</span><br><span class="line">            mark[i * p[j]] = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span> (i % p[j] == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    rep(i, <span class="number">2</span>, n) cnt[i] += cnt[i - <span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">dfs</span><span class="params">(ll x, ll t)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (t &gt; tot || x * p[t] &gt; n) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (x * p[t] * p[t] &gt; n) <span class="keyword">return</span> cnt[min(P, n / x)] - t + <span class="number">2</span>;  <span class="comment">// ä¼˜ç§€çš„å‰ªæä»¬</span></span><br><span class="line">    ll ret = dfs(x, t + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span> (; x * p[t] &lt;= n; ) &#123;</span><br><span class="line">        x *= p[t];</span><br><span class="line">        ret += dfs(x, t + <span class="number">1</span>);</span><br><span class="line">        x *= p[t];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n &gt;&gt; P;</span><br><span class="line">    sieve(P);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>, dfs(<span class="number">1</span>, <span class="number">1</span>));</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/08/12/XJOI200812 é¢˜è§£/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="imily">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="imily's notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2020/08/12/XJOI200812 é¢˜è§£/" itemprop="url">
                  XJOI200812 é¢˜è§£
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2020-08-12T16:13:40+08:00">
                2020-08-12
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>ä¸§å¿ƒç—…ç‹‚ï¼Œæ‰“äº†ä¸¤åœºæï¼ˆnï¼‰é«˜ï¼ˆoï¼‰ç»„ï¼ˆiï¼‰æ¨¡æ‹Ÿèµ›ã€‚ã€‚ã€‚ä¸€å¤©å°±è¿™ä¹ˆæ²¡äº†ã€å“­ã€‘</p>
<p><a href="http://115.236.49.52:83/contest/1578" target="_blank" rel="noopener">èµ›1</a>    <a href="http://115.236.49.52:83/contest/1579" target="_blank" rel="noopener">èµ›2</a></p>
<h2 id="1A"><a href="#1A" class="headerlink" title="1A"></a>1A</h2><hr>
<p>ä¸ç”¨ Boruvkaï¼Œç›´æ¥ Kruskalï¼Œä»å¤§åˆ°å°æšä¸¾è¾¹æƒç„¶åèƒ½è¿åˆ™è¿ã€‚</p>
<h2 id="1B"><a href="#1B" class="headerlink" title="1B"></a>1B</h2><hr>
<p>ç¥ä»™é¢˜ï¼ï¼ˆä¹Ÿå¯èƒ½åªæ˜¯æˆ‘ä¸ä¼šçº¿æ€§ä»£æ•°Â¯_(ãƒ„)_/Â¯ï¼‰åŸé¢˜æ˜¯ <a href="https://www.luogu.com.cn/problem/CF388D" target="_blank" rel="noopener">CF388D</a></p>
<p>è€ƒè™‘å¼‚æˆ– ä¸€èˆ¬æ¥è¯´ å°±æ˜¯ Trie å’Œçº¿æ€§åŸº</p>
<p>è¯¶ï¼Ÿçº¿æ€§åŸºå¥½åƒå¯ä»¥ï¼æœ¬é¢˜ç›¸å½“äºç»™ä¸€ç»„çº¿æ€§åŸºå°±èƒ½äº§ç”Ÿä¸€å †å¼‚æˆ–å€¼ï¼Œçº¿æ€§åŸºå’Œå¼‚æˆ–å€¼å…±åŒç»„æˆé›†åˆ</p>
<p>ä¸€ç»„çº¿æ€§åŸºå¯¹åº”ä¸€ä¸ªé›†åˆï¼Œä½†<strong>ä¸€ä¸ªé›†åˆå¯ä»¥æœ‰å¤šç»„çº¿æ€§åŸº</strong>ï¼Œå¦‚æœèƒ½è®©é›†åˆå’Œçº¿æ€§åŸºä¸€ä¸€å¯¹åº”ï¼Œé›†åˆçš„è®¡æ•°å°±è½¬åŒ–æˆäº†çº¿æ€§åŸºçš„è®¡æ•°</p>
<p>æ ¹æ®â€œç‰¹å¾ç‚¹â€çš„æ€æƒ³ï¼Œæˆ‘ä»¬å¯¹æ¯ç»„çº¿æ€§åŸºé«˜æ–¯æ¶ˆå…ƒã€‚å¯ä»¥è¯æ˜é«˜æ¶ˆåï¼Œä¸åŒçš„çº¿æ€§åŸºç”Ÿæˆçš„é›†åˆä¸€å®šä¸åŒã€‚</p>
<p>æ¥ä¸‹æ¥å¯¹çº¿æ€§åŸºåš dp å°±å¥½äº†ã€‚æ³¨æ„ï¼Œé«˜æ¶ˆåçº¿æ€§åŸºèƒ½å¼‚æˆ–å‡ºæ¥çš„æœ€å¤§å€¼å°±æ˜¯æ‰€æœ‰å…ƒç´ çš„å¼‚æˆ–å€¼</p>
<p>dp çš„çŠ¶æ€è®¾è®¡ï¼šdp[i, j, k] è¡¨ç¤ºä»æœ€é«˜ä½åˆ°ç¬¬ i ä½é€‰äº† j ä¸ªåŸºï¼Œå¼‚æˆ–å¾—åˆ°çš„æœ€å¤§å€¼æ˜¯å¦é¡¶åˆ°ä¸Šç•Œï¼ˆæ˜¯åˆ™ k = 1ï¼Œå¦åˆ™ k = 0ï¼‰æœ‰ç‚¹ç±»ä¼¼äºæ•°ä½ dp</p>
<p><a href="https://blog.csdn.net/C202044zxy/article/details/106119810" target="_blank" rel="noopener">ç»†èŠ‚</a></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i, x, y) for (int i = x; i &lt;= y; i++)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line">ll n, dp[<span class="number">32</span>][<span class="number">32</span>][<span class="number">2</span>], ans;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(ll &amp;x, ll y)</span> </span>&#123; x = (x + y) % mod; &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">    dp[<span class="number">30</span>][<span class="number">0</span>][<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">30</span>; i &gt;= <span class="number">1</span>; i--) &#123;</span><br><span class="line">        rep(j, <span class="number">0</span>, <span class="number">30</span> - i + <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="comment">// k = 0</span></span><br><span class="line">            add(dp[i - <span class="number">1</span>][j][<span class="number">0</span>], dp[i][j][<span class="number">0</span>] * (<span class="number">1</span> &lt;&lt; j) % mod);</span><br><span class="line">            add(dp[i - <span class="number">1</span>][j + <span class="number">1</span>][<span class="number">0</span>], dp[i][j][<span class="number">0</span>]);</span><br><span class="line">            <span class="comment">// k = 1</span></span><br><span class="line">            ll x = (j == <span class="number">0</span> ? <span class="number">1</span> : (<span class="number">1</span> &lt;&lt; (j - <span class="number">1</span>))), y = (j == <span class="number">0</span> ? <span class="number">0</span> : (<span class="number">1</span> &lt;&lt; (j - <span class="number">1</span>)));</span><br><span class="line">            <span class="keyword">if</span> ((n &gt;&gt; (i - <span class="number">1</span>)) &amp; <span class="number">1</span>) &#123;</span><br><span class="line">                add(dp[i - <span class="number">1</span>][j][<span class="number">0</span>], x * dp[i][j][<span class="number">1</span>] % mod);</span><br><span class="line">                add(dp[i - <span class="number">1</span>][j][<span class="number">1</span>], y * dp[i][j][<span class="number">1</span>] % mod);</span><br><span class="line">                add(dp[i - <span class="number">1</span>][j + <span class="number">1</span>][<span class="number">1</span>], dp[i][j][<span class="number">1</span>]);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                add(dp[i - <span class="number">1</span>][j][<span class="number">1</span>], x * dp[i][j][<span class="number">1</span>] % mod);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    rep(i, <span class="number">0</span>, <span class="number">30</span>) add(ans, (dp[<span class="number">0</span>][i][<span class="number">0</span>] + dp[<span class="number">0</span>][i][<span class="number">1</span>]) % mod);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>, ans);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="1C"><a href="#1C" class="headerlink" title="1C"></a>1C</h2><hr>
<p>å…ˆå†³é¢˜ç›®æ˜¯ [ZJOI2016]-æ—…è¡Œè€…ï¼Œè¿™é‡Œå†™ä¸€ä¸‹é¢˜è§£</p>
<p>ç½‘æ ¼å›¾å¯ä»¥åˆ†æ²»ï¼æ‰¾åˆ°çŸ©å½¢çš„é•¿è¾¹ï¼Œç”¨ä¸€æ¡ä¸­è½´çº¿åˆ‡æˆä¸¤åŠï¼Œå½“å‰åˆ†æ²»çš„åŒºé—´æ˜¯ (lx, ly) (rx, ry)ï¼Œå¤„ç†çš„è¯¢é—®æ˜¯ (ql, qr)ï¼ˆç±»ä¼¼äºæ•´ä½“äºŒåˆ†ï¼‰ã€‚å¯¹äºæ¯ä¸ªè¯¢é—®ï¼š</p>
<ul>
<li>èµ·å§‹ç‚¹åœ¨ä¸­è½´çº¿ä¸¤ä¾§ï¼Œå¯¹äºä¸­è½´çº¿ä¸Šæ¯ä¸ªç‚¹è·‘æœ€çŸ­è·¯æ›´æ–°ç­”æ¡ˆ</li>
<li>èµ·å§‹ç‚¹åœ¨ä¸€ä¾§ï¼Œ<strong>å¯èƒ½</strong>æœ€çŸ­è·¯ä¹Ÿç»è¿‡ä¸­è½´çº¿ï¼Œä¹Ÿæ›´æ–°ä¸€æ³¢ï¼Œå†é€’å½’åˆ†æ²»</li>
</ul>
<p>å¡äº†å°å¸¸ï¼ŒåŠ äº†ç„å­¦å¤´æ–‡ä»¶<br><a href="https://blog.csdn.net/neither_nor/article/details/51733997" target="_blank" rel="noopener">å¤æ‚åº¦æ˜¯ O(S logS sqrt(S))</a><br><a href="https://www.luogu.com.cn/discuss/show/74578" target="_blank" rel="noopener">å¦‚æœæ²¡çœ‹æ‡‚è¿™é‡Œè¿˜æœ‰ä¸€ä¸ªï¼ˆè¿˜æ˜¯ä¸æ‡‚ã€‚ã€‚</a></p>
<p>â€”åˆ†å‰²çº¿â€”</p>
<p>æœ¬é¢˜çš„åŒºåˆ«å°±æ˜¯æœ‰ä¿®æ”¹å•¦ã€‚æˆ‘ä»¬å¯ä»¥çŸ¥é“æ¯ä¸ªæ ¼å­å˜ä¸ºä¸èƒ½èµ°çš„æ—¶é—´ï¼ˆè¿™ä¸ªæ•´ä½“äºŒåˆ†åšï¼‰ï¼Œå®šä¹‰ä¸€æ¡è·¯å¾„çš„å€¼ä¸ºè¿™æ¡è·¯å¾„ä¸Šæ ¼å­ä¸èƒ½èµ°æ—¶é—´çš„æœ€å°å€¼ï¼Œé‚£æˆ‘ä»¬å°±éœ€è¦æ‰¾ä¸€æ¡å€¼æœ€å¤§çš„è·¯å¾„çœ‹è¿™ä¸ªå€¼æ˜¯å¦å¤§äºè¯¢é—®çš„æ—¶é—´ã€‚ç¦»çº¿ï¼Œç”¨æ—…è¡Œè€…çš„ åˆ†æ²» + dp åšã€‚ç„¶è€Œä¸ä¼šå†™ä»£ç ï¼Œæˆ‘åªä¼šå’•å’•</p>
<h2 id="2A"><a href="#2A" class="headerlink" title="2A"></a>2A</h2><hr>
<p>åªä¼š 16 åˆ† O(nT)ï¼Œå‘Šè¾ï¼ˆå’•å’•</p>
<p><a href="https://www.luogu.com.cn/paste/a8hdc624" target="_blank" rel="noopener">æ­£è§£æ˜¯æ–¯ç‰¹æ—æ•°ç›¸å…³ï¼Ÿï¼Ÿï¼Ÿæˆ‘è°”è°”</a></p>
<p>æœ€åå°±æ˜¯ä¸ªå·ç§¯å½¢å¼äº†ã€‚</p>
<h2 id="2B"><a href="#2B" class="headerlink" title="2B"></a>2B</h2><hr>
<p>è«åå°±æœ‰ 60 åˆ†ï¼Œå¯æƒœ T äº†ä¸€ä¸ªç‚¹</p>
<p>æ­£è§£ è¦ç”¨ ODT ç»´æŠ¤ï¼Ÿï¼Ÿï¼Ÿæˆ‘è°”è°”</p>
<h2 id="2C"><a href="#2C" class="headerlink" title="2C"></a>2C</h2><hr>
<p>ç¥ä»™è®¡ç®—å‡ ä½•é¢˜ï¼Œå’•å’•</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/08/11/AGC 047 é¢˜è§£/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="imily">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="imily's notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2020/08/11/AGC 047 é¢˜è§£/" itemprop="url">
                  AGC 047 é¢˜è§£
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2020-08-11T19:57:40+08:00">
                2020-08-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="A"><a href="#A" class="headerlink" title="A"></a>A</h2><hr>
<p>å®¹æ˜“æƒ³åˆ°ä¹˜ä¸Š 1e9ï¼Œé‚£ä¹ˆæ„å‘³ç€ç›¸ä¹˜å¾—åˆ°çš„æ•°æ˜¯ 1e18 çš„å€æ•°ã€‚å³å› å­ä¸­ 2 å’Œ 5 çš„ä¸ªæ•°éƒ½ &gt;= 18ï¼Œå¼€ä¸ªæ¡¶éšä¾¿åšä¸€ä¸‹ã€‚ã€æ³¨æ„è¯»å…¥ï¼Œæˆ‘æ²¡ç”¨å­—ç¬¦ä¸²å°± wa äº† qvq æ²¡è¯•è¿‡ long double ä¸çŸ¥é“è¡Œä¸è¡Œ</p>
<h2 id="B"><a href="#B" class="headerlink" title="B"></a>B</h2><hr>
<p>å®¹æ˜“å‘ç°è‹¥ T èƒ½å’Œ S åŒ¹é…ï¼ŒæŠŠ T ç¬¬ä¸€ä¸ªå­—ç¬¦å»æ‰ä»¥åå°±æ˜¯ S çš„ä¸€ä¸ªåç¼€ã€‚</p>
<p>é¢˜ç›®åªç»™å‡ºäº†<strong>æ€»</strong>ä¸²é•¿ï¼è¿™å¯å‘æˆ‘ä»¬æƒ³åˆ°ç»“åˆ Trie æ ‘ç­‰ç»“æ„å®ç°ä¸€ä¸ª O(n) çš„ç®—æ³•ã€‚</p>
<h2 id="C"><a href="#C" class="headerlink" title="C"></a>C</h2><hr>
<p>å¯¹å¤šé¡¹å¼å¤§å¸ˆæ¥è¯´æ˜¯å¥—è·¯é¢˜ï¼Œå¯¹æˆ‘æ¥è¯´ã€‚ã€‚qvq</p>
<p>å®¹æ˜“æƒ³åˆ°æšä¸¾æ¨¡åä¹˜ç§¯ã€‚</p>
<p>$$F(x) = \sum [a_i == x]$$</p>
<p>$$ans = \sum\limits_d d \sum_{(xy\bmod P == d)}F(x)F(y)$$</p>
<p>æˆ‘ä»¬æƒ³åˆ°äº†å·ç§¯ï¼Œä½†è¿™è¿˜ä¸æ˜¯å·ç§¯å½¢å¼ï¼Œäºæ˜¯å†åŒ–ä¸€æ­¥ï¼š</p>
<p>$$F(x) = \sum [g^{a_i} == x]$$</p>
<p>å…¶ä¸­ g æ˜¯ P çš„åŸæ ¹ä¹‹ä¸€</p>
<p>$$ans = \sum\limits_d g^d \sum_{((x + y)\bmod P == d)}F(x)F(y)$$</p>
<p>é‚£è¿™å°±æ˜¯ä¸ªå¾ªç¯å·ç§¯å•¦ã€‚</p>
<p>å…³äºåŸæ ¹ï¼šåŸæ ¹çš„å®šä¹‰å’Œæ€§è´¨ï¼šå¯¹äºä»»ä½• $0$ ~ $P - 1$ ä¸­çš„æ•° $i$ã€$j$($i \neq j$), æœ‰ $g^i \neq g^j(\bmod P)$ï¼Œå³ $g^i$ åœ¨ mod P æ„ä¹‰ä¸‹å¯ä»¥å–é $0$ ~ $P - 1$ æ‰€æœ‰æ•°ã€‚</p>
<p>å…³äºæ‰¾åŸæ ¹ï¼šåŸæ ¹å¾ˆå°ï¼Œä¸€èˆ¬åœ¨ 100 ä»¥å†…ï¼Œæšä¸¾ï¼Œè‹¥å­˜åœ¨ P çš„å› å­ x ä½¿å¾— $g^{\frac{P - 1}{x}} \equiv 1 (\bmod P)$ é‚£ä¹ˆ g å°±ä¸æ˜¯åŸæ ¹ã€‚å¦åˆ™å°±æ˜¯ã€‚</p>
<h2 id="D"><a href="#D" class="headerlink" title="D"></a>D</h2><hr>
<p>å’•å’•</p>
<h2 id="E"><a href="#E" class="headerlink" title="E"></a>E</h2><hr>
<p>å’•å’•</p>
<h2 id="F"><a href="#F" class="headerlink" title="F"></a>F</h2><hr>
<p>å’•å’•</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/08/11/ã€ä¹ é¢˜é€‰è®²ã€‘æ¦‚ç‡ä¸æœŸæœ›/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="imily">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="imily's notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2020/08/11/ã€ä¹ é¢˜é€‰è®²ã€‘æ¦‚ç‡ä¸æœŸæœ›/" itemprop="url">
                  ã€ä¹ é¢˜é€‰è®²ã€‘æ¦‚ç‡ä¸æœŸæœ›
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2020-08-11T11:31:40+08:00">
                2020-08-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å¿«ä¹æœŸæœ› ~</span><br></pre></td></tr></table></figure>
<p>æœŸæœ›é¢˜å¾€å¾€åº”ç”¨åˆ°äº†æœŸæœ›çš„çº¿æ€§æ€§è´¨ï¼Œå¯ä»¥è¯´æ˜¯è§£é¢˜çš„åŸºç¡€ã€‚</p>
<p>åœ¨å›¾ä¸Šçš„è§£é¢˜æ–¹å¼ä¸€èˆ¬å°±æ˜¯ï¼šæ ‘ä¸Šdpï¼ŒåŸºç¯æ ‘dpï¼ŒDAG dpï¼Œç¼©ç‚¹å dpï¼Œåˆ†å±‚å›¾è§£åŒä¸€å±‚æ–¹ç¨‹ dp</p>
<h2 id="å¥—è·¯1-ç›´æ¥é€’æ¨-dp"><a href="#å¥—è·¯1-ç›´æ¥é€’æ¨-dp" class="headerlink" title="å¥—è·¯1. ç›´æ¥é€’æ¨/dp"></a><strong>å¥—è·¯1. ç›´æ¥é€’æ¨/dp</strong></h2><hr>
<h3 id="NOI2005-èªèªä¸å¯å¯"><a href="#NOI2005-èªèªä¸å¯å¯" class="headerlink" title="$[NOI2005]-èªèªä¸å¯å¯$"></a><a href="https://www.luogu.com.cn/problem/P4206" target="_blank" rel="noopener">$[NOI2005]-èªèªä¸å¯å¯$</a></h3><p>ç®€å•é¢˜çš„æ ·å­ï¼Œ$f[i, j] = \frac{\sum f[nxt, k]}{deg_j + 1} + 1$ï¼Œå…¶ä¸­ nxt æ˜¯ i ä¸¤æ­¥èƒ½åˆ°è¾¾çš„ï¼Œk æ˜¯ j ä¸€æ­¥èƒ½åˆ°è¾¾çš„ã€‚<strong>çŒ«å’Œé¼ çš„è·ç¦»ä¸æ–­å‡å°‘</strong>ï¼Œæ‰€ä»¥çŠ¶æ€ä¸ä¼šå½¢æˆç¯ï¼Œè®°å¿†åŒ–æœç´¢å°±å¥½äº†ã€‚</p>
<h3 id="SCOI2008-å¥–åŠ±å…³"><a href="#SCOI2008-å¥–åŠ±å…³" class="headerlink" title="$[SCOI2008]-å¥–åŠ±å…³$"></a><a href="https://www.luogu.com.cn/problem/P2473" target="_blank" rel="noopener">$[SCOI2008]-å¥–åŠ±å…³$</a></h3><p>n è¿™ä¹ˆå°ä¸€å®šæ˜¯çŠ¶å‹å•¦ã€‚é¦–å…ˆè¦æ˜ç¡®çš„æ˜¯ï¼ŒæŠ›å‡ºä»€ä¹ˆå®ç‰©æ˜¯éšæœºçš„ï¼Œä½†é€‰æ‹©ä¸å¦æ˜¯æˆ‘ä»¬å†³å®šçš„ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬è¦æ±‚<strong>æœ€ä¼˜ç­–ç•¥ä¸‹çš„æœ€å¤§æœŸæœ›å¾—åˆ†</strong></p>
<p>$f[i, S]$ è¡¨ç¤ºå‰ $i - 1$ è½®å–åˆ°çš„çŠ¶æ€ä¸º $S$ï¼Œ$i$ ~ $K$ è½®çš„æœ€å¤§æœŸæœ›å¾—åˆ†ã€‚é‚£ä¹ˆå°±æœ‰ </p>
<p>$$f[i, S] = \frac{1}{n}(\sum\limits_{k\ is\ valid} max(f[i + 1, S], f[i + 1, S | (1 &lt;&lt; (k - 1))] + p_k) + \sum\limits_{k\ isnâ€™t\ valid} f[i + 1, S])$$</p>
<h3 id="æ¸…åé›†è®­2017-å°-Y-å’Œææ€–çš„å¥´éš¶ä¸»"><a href="#æ¸…åé›†è®­2017-å°-Y-å’Œææ€–çš„å¥´éš¶ä¸»" class="headerlink" title="$[æ¸…åé›†è®­2017]-å° Y å’Œææ€–çš„å¥´éš¶ä¸»$"></a><a href="https://www.luogu.com.cn/problem/P4007" target="_blank" rel="noopener">$[æ¸…åé›†è®­2017]-å° Y å’Œææ€–çš„å¥´éš¶ä¸»$</a></h3><p>n è¿™ä¹ˆå¤§ä¸€å®šæ˜¯çŸ©é˜µå¿«é€Ÿå¹‚ä¼˜åŒ– dp å•¦ï¼ˆé›¾ï¼‰ã€‚ä»¥ $m = 3$ ä¸ºä¾‹ï¼Œè®¾ $f[i, a, b, c]$ è¡¨ç¤º $i$ è½®æ”»å‡»åæœ‰ $a$ ä¸ª 1 è¡€éšä»ã€$b$ ä¸ª 2 è¡€éšä»ã€$c$ ä¸ª 3 è¡€éšä»çš„æ¦‚ç‡ï¼Œè½¬ç§»æ–¹ç¨‹å°±å¾ˆå¥½æƒ³ã€‚ã€‚ç„¶åå‘ç°è¿™ä¸ªä¸œè¥¿çŠ¶æ€æ•°æ˜¯ 166, å¤æ‚åº¦ $O(T166^3logn)$ï¼Œè€ƒè™‘æŠŠ $2^i$ çš„çŸ©é˜µé¢„å¤„ç†å‡ºæ¥ï¼Œæ¯æ¬¡è¯¢é—®å°±åªéœ€ç”¨ä¸€ä¸ªè¡Œå‘é‡å»ä¹˜ logn æ¬¡çŸ©é˜µï¼Œå¤æ‚åº¦å°±å˜æˆäº† $O(T166^2logn)$ï¼Œç„¶åè¿˜è¦å¡å¾ˆå¤šå¸¸ã€‚ã€‚ã€‚æ‰€ä»¥è¿™æ˜¯é“æ¯’é¢˜</p>
<h2 id="å¥—è·¯2-æ— é™å¾ªç¯è½¬é€’æ¨"><a href="#å¥—è·¯2-æ— é™å¾ªç¯è½¬é€’æ¨" class="headerlink" title="å¥—è·¯2. æ— é™å¾ªç¯è½¬é€’æ¨"></a><strong>å¥—è·¯2. æ— é™å¾ªç¯è½¬é€’æ¨</strong></h2><hr>
<p>ï¼ˆè¿™éƒ¨åˆ†å¥½ç¥ä»™çš„ï¼è¦å·§å¦™è®¾è®¡çŠ¶æ€ï¼Œæˆ–è€…é”™ä½ç›¸å‡æ³•ï¼ˆç­‰æ¯”æ•°åˆ—æ±‚å’Œå¿…å¤‡æŠ€èƒ½ï¼‰ç­‰æ–¹æ³•åŒ–æŸ¿å­ qvqï¼‰</p>
<h3 id="SHOI2002-ç™¾äº‹ä¸–ç•Œæ¯ä¹‹æ—…"><a href="#SHOI2002-ç™¾äº‹ä¸–ç•Œæ¯ä¹‹æ—…" class="headerlink" title="$[SHOI2002]-ç™¾äº‹ä¸–ç•Œæ¯ä¹‹æ—…$"></a><a href="https://www.luogu.com.cn/problem/P1291" target="_blank" rel="noopener">$[SHOI2002]-ç™¾äº‹ä¸–ç•Œæ¯ä¹‹æ—…$</a></h3><p>åº”ç”¨æé™çš„æ€æƒ³ <a href="https://www.luogu.com.cn/blog/ButterflyDew/solution-p1291" target="_blank" rel="noopener">é¢˜è§£</a></p>
<h3 id="å…­çœè”è€ƒ2017-åˆ†æ‰‹æ˜¯ç¥æ„¿"><a href="#å…­çœè”è€ƒ2017-åˆ†æ‰‹æ˜¯ç¥æ„¿" class="headerlink" title="$[å…­çœè”è€ƒ2017]-åˆ†æ‰‹æ˜¯ç¥æ„¿$"></a><a href="https://www.luogu.com.cn/problem/P3750" target="_blank" rel="noopener">$[å…­çœè”è€ƒ2017]-åˆ†æ‰‹æ˜¯ç¥æ„¿$</a></h3><p>çœ‹èµ·æ¥å¾ˆç¥çš„æœŸæœ›é¢˜</p>
<p>é¦–å…ˆ 50 åˆ†ä»åå¾€å‰å–ï¼Œå¥½æ‹¿å§</p>
<p>è€ƒè™‘æ­£è§£ï¼ä»åå¾€å‰å–ä¼šç¡®å®šä¸€äº›<strong>å¿…é¡»è¦å–</strong>çš„é”®ï¼Œé‚£ä¹ˆå°±ç›¸å½“äºé™¤å¼€è¿™äº›é”® æŒ‰äº†å…¶ä»–çš„é”® <strong>å°±å¾—æŒ‰åŒä¸€ä¸ªé”®æŒ‰å›æ¥</strong>ï¼Œç›¸å½“äºå¤šäº†ä¸€ä¸ªå¿…é¡»è¦æŒ‰çš„é”®ï¼ˆæ‰€ä»¥ f çš„é¢„å¤„ç†å¾—ä» nï¼Œä¸èƒ½ä» cnt å¼€å§‹ï¼ï¼‰ã€‚æ‰€ä»¥ dp çš„çŠ¶æ€å°±æ˜¯ f[i] è¡¨ç¤ºä» i ä¸ªå¿…é€‰çš„é”®è½¬ç§»åˆ° i - 1 ä¸ªå¿…é€‰çš„é”®çš„æœŸæœ›æ“ä½œæ¬¡æ•°</p>
<p>$$f[i] = \frac{i}{n} + \frac{n - i}{n}(1 + f[i] + f[i + 1])$$</p>
<p>ç¬¬ä¸€é¡¹è¡¨ç¤ºé€‰äº†ä¸€ä¸ªå¿…é€‰çš„ï¼Œä¸€æ¬¡å°±åˆ° i - 1 å»äº†ï¼›</p>
<p>ç¬¬äºŒé¡¹è¡¨ç¤ºé€‰äº†ä¸€ä¸ªå…¶ä»–çš„ï¼Œå°±å¾— f[i + 1] æ¬¡æŒ‰å›æ¥ï¼Œå† f[i] æ¬¡æŒ‰åˆ° i - 1 å»ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i, x, y) for (int i = x; i &lt;= y; i++)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> int long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod = <span class="number">100003</span>, N = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line">ll n, K, cnt, res;</span><br><span class="line">ll col[N], f[N];</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">quick_pow</span><span class="params">(ll a, ll b)</span> </span>&#123;</span><br><span class="line">    ll ret = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (; b; b &gt;&gt;= <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (b &amp; <span class="number">1</span>) ret = ret * a % mod;</span><br><span class="line">        a = a * a % mod;</span><br><span class="line">    &#125; <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n &gt;&gt; K;</span><br><span class="line">    rep(i, <span class="number">1</span>, n) <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;col[i]);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = n; i; --i) &#123;</span><br><span class="line">        <span class="keyword">if</span> (col[i]) &#123;</span><br><span class="line">            ++cnt;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j * j &lt;= i; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (i % j == <span class="number">0</span>) &#123;</span><br><span class="line">                    col[j] ^= <span class="number">1</span>;</span><br><span class="line">                    <span class="keyword">if</span> (j * j != i) col[i / j] ^= <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = n; i; --i)  <span class="comment">// !!! ä» n å¼€å§‹</span></span><br><span class="line">        f[i] = (f[i + <span class="number">1</span>] * (ll)(n - i) % mod + n) % mod * quick_pow(i, mod - <span class="number">2</span>) % mod;</span><br><span class="line">    <span class="keyword">if</span> (cnt &lt;= K) res = cnt;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        res = K;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = cnt; i &gt; K; --i) res = (res + f[i]) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">    rep(i, <span class="number">1</span>, n) res = res * (ll)i % mod;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>, res);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="UVA10529-Dumb-Bones"><a href="#UVA10529-Dumb-Bones" class="headerlink" title="$[UVA10529]-Dumb Bones$"></a><a href="https://www.luogu.com.cn/problem/UVA10529" target="_blank" rel="noopener">$[UVA10529]-Dumb Bones$</a></h3><p>å¤ªç¥ä»™äº†å§woc</p>
<p>è€ƒè™‘<strong>å•ç‹¬</strong>ä¸€å¼ éª¨ç‰Œæ‘†æ”¾æˆåŠŸçš„æœŸæœ›æ¬¡æ•° E</p>
<p>ç„å­¦åŒ–æŸ¿å­ï¼ˆæ„Ÿæ€§ç†è§£ï¼‰<br>$$E = 1 + pl(1 + pl(â€¦) + pr(â€¦)) + pr(1 + pl(â€¦) + pr(â€¦))$$<br>$$= 1 + (pl + pr)(1 + (pl + pr)(â€¦))$$<br>$$= 1 + (pl + pr) + (pl + pr)^2 + (pl + pr)^3 â€¦ + (pl + pr)^{\infty}$$<br>$$= \frac{1}{1 - pl - pr}$$<br>ï¼ˆåˆ«åŒ–æ™•äº†</p>
<p>è€ƒè™‘è¿ç»­çš„ x å¼ éª¨ç‰ŒæˆåŠŸçš„æœŸæœ›ã€‚<strong>æ³¨æ„é‡‡å–æœ€ä¼˜ç­–ç•¥</strong></p>
<p>æ”¾ç¬¬ x å¼ éª¨ç‰Œæ—¶ï¼Œå¦‚æœå‘å·¦/å³ï¼Œå°±è¦èŠ±è´¹ä¸€äº›æ­¥æ•°å»æ‰¶èµ·å·¦/å³è¾¹çš„éª¨ç‰Œã€‚åé¢é‚£å¨ä¸œè¥¿ï¼Œæ ¹æ®<strong>æœŸæœ›çš„çº¿æ€§æ€§è´¨</strong></p>
<p>$$f[x] = \min\limits_{i = 1}^x{f[i - 1] \times \frac{1 - pr}{1 - pl - pr} + f[x - i] \times \frac{1 - pl}{1 - pl - pr} + \frac{1}{1 - pl - pr}}$$</p>
<p>ä»¥å¾€å·¦å€’ä¸ºä¾‹è§£é‡Šä¸€ä¸‹ï¼šå·¦è¾¹è¦é‡æ­ $f[i - 1] \times [å¾€å·¦å€’çš„æœŸæœ›æ¬¡æ•°] = f[i - 1] \times (E - 1) \times \frac{pl}{pl + pr}$ï¼Œæ³¨æ„è¿™æ˜¯é‡æ­çš„ï¼Œåˆå§‹è¿˜æœ‰ä¸€æ¬¡ï¼Œæ‰€ä»¥æ˜¯ $f[i - 1] \times \frac{1 - pr}{1 - pl - pr}$</p>
<p>å°±åšå®Œäº†ã€‚uva æ•°æ®åªæœ‰ä¸€ç»„ï¼Œéå¸¸çš„æ°´ï¼Œæˆ‘æ€•äº†ï¼Œé¢˜è§£æŸ¿å­éƒ½ä¸ä¸€æ ·ã€‚</p>
<p>æ„Ÿæƒ³å°±æ˜¯ï¼Œ<strong>æœŸæœ›çš„çº¿æ€§æ€§è´¨çœŸçš„å¤ªé‡è¦äº†ï¼</strong> ä¸ç„¶è¿™ç§äº’ç›¸å½±å“çš„é—®é¢˜å°±æ²¡æ³•åšäº†ã€‚</p>
<h3 id="CF908D-New-Year-and-Arbitrary-Arrangement"><a href="#CF908D-New-Year-and-Arbitrary-Arrangement" class="headerlink" title="$[CF908D]-New Year and Arbitrary Arrangement$"></a><a href="https://www.luogu.com.cn/problem/CF908D" target="_blank" rel="noopener">$[CF908D]-New Year and Arbitrary Arrangement$</a></h3><p>è¿™é¢˜çš„å…³é”®åœ¨å¤„ç†è¾¹ç•Œå•¦ã€‚</p>
<p>å®¹æ˜“å‘ç°æˆ‘ä»¬éœ€è¦è®°å½•çš„æ˜¯å½“å‰ a å’Œ ab çš„æ•°é‡ã€‚è®¾ f[i, j] è¡¨ç¤º i ä¸ª aï¼Œj ä¸ª abï¼Œé‚£ä¹ˆ $f[i, j] = \frac{pa}{pa + pb}f[i + 1, j] + \frac{pb}{pa + pb}f[i, i + j]$</p>
<p>å¼€å¤´æ— é™å¤šä¸ª b æ€ä¹ˆåŠï¼Ÿå¿½ç•¥æ‰ï¼Œå› ä¸ºå¯¹ ab çš„æ•°é‡æ²¡æœ‰å½±å“ã€‚</p>
<p>ç»“å°¾æ— é™å¤šä¸ª a æ€ä¹ˆåŠï¼Ÿè¿™ä¸ªå°±è¦æä¸€æäº†ã€‚å¦‚æœ i + j &gt;= kï¼Œé‚£ä¹ˆåªè¦åŠ ä¸€ä¸ª b å°±èƒ½ç»“æŸã€‚è®¾ $P_a = \frac{pa}{pa + pb}$, $P_b = \frac{pb}{pa + pb}$</p>
<p>$$f[i, j] = P_b \sum\limits_{k = 0}^{\infty} P_a^k (i + j + k)$$</p>
<p>$$= P_b\sum\limits_{k = 0}^{\infty} P_a^k \times k + P_b(i + j)\sum\limits_{k = 0}^{\infty}P_a^k$$</p>
<p>$$= i + j + \frac{P_a}{P_b}$$</p>
<h3 id="ã€ŒPKUWC2018ã€çŒäººæ€"><a href="#ã€ŒPKUWC2018ã€çŒäººæ€" class="headerlink" title="$ã€ŒPKUWC2018ã€çŒäººæ€$"></a><a href="https://loj.ac/problem/2541" target="_blank" rel="noopener">$ã€ŒPKUWC2018ã€çŒäººæ€$</a></h3><p>å¾ˆå¦™çš„æ¦‚ç‡é¢˜ã€‚</p>
<p>åˆ†æ¯æ˜¯å˜åŒ–çš„ï¼Œå¾ˆä¸å¥½æ±‚ã€‚</p>
<p>é—®é¢˜å¯ä»¥è½¬åŒ–ä¸€æ³¢ï¼Œå˜æˆï¼šæ­»æ‰çš„çŒäººä¾æ—§ç®—åœ¨æ¦‚ç‡é‡Œé¢ï¼Œæ¯ä¸€è½®ä¸€ç›´å¼€æªç›´åˆ°å°„æ­»ä¸€ä¸ªæ²¡æ­»è¿‡çš„çŒäººã€‚è¿™æ ·æ¯æ¬¡èƒ½é€‰çš„å°±æ˜¯å…¨é›†äº†ã€‚</p>
<p>è®¾ $W = \sum w_i$, $T = {w_i\ |\ (i\ has\ died)}$, $sum(T) = \sum\limits_{i\ has\ died} w_i$</p>
<p>è½¬åŒ–å‰å°„æ­» $i$ çš„æ¦‚ç‡ $P = \frac{wi}{(W - T)}$</p>
<p>è½¬åŒ–åå°„æ­» $i$ çš„æ¦‚ç‡ $P = \frac{T}{W}P + \frac{wi}{W} = \frac{wi}{W - T}$</p>
<p>ä¸¤è€…ç›¸ç­‰ã€‚</p>
<p>ã€‚</p>
<p>ã€‚</p>
<p>ç„¶åè€ƒè™‘å®¹æ–¥ï¼Œé’¦å®šä¸€ä¸ªä¸åŒ…å« 1 çš„çŒäººé›†åˆ T åœ¨ 1 ä¹‹åæ­»å»ã€‚é™¤äº†é›†åˆ T å’ŒçŒäºº 1 ä»¥å¤–çš„å‰©ä½™çš„çŒäººä¸ç”¨è€ƒè™‘ï¼Œå› ä¸ºä»–ä»¬å¯ä»¥ä»»æ„æ‘†æ”¾åœ¨ 1 çš„å‰é¢åé¢ï¼ˆä¹Ÿå°±æ˜¯è¯´æ¦‚ç‡æ˜¯ 1ï¼‰</p>
<p>é›†åˆä¸º T çš„äººåœ¨ 1 åé¢æ­»çš„æ¦‚ç‡ï¼š</p>
<p>$$P = \frac{w_1}{W}\sum\limits_{i = 0}^{\infty} (1 - \frac{sum(T) + w_1}{W})^i = \frac{w_1}{sum(T) + w_1}$$</p>
<p>å®¹æ–¥</p>
<p>$$ans = \sum\limits_{T} (-1)^{|T|} \frac{w_1}{sum(T) + w_1}$$</p>
<p>æšä¸¾ $T$ å†èƒŒåŒ…é¢„å¤„ç†å®¹æ–¥ç³»æ•°å¯ä»¥åšåˆ° $n^2$ï¼Œ50 ptsï¼š</p>
<p>$$ans = \sum\limits_{num = 0}^{W} \frac{w_1}{num + w_1} (\sum\limits_T (-1)^{|T|} [sum(T) == num])$$</p>
<p>å¥½å¦™ã€åè¡€è€Œäº¡</p>
<p>100 pts çš„è¯å°±æ˜¯åé¢é‚£å¨å®¹æ–¥ç³»æ•°ç”¨åˆ†æ²»çš„ NTT å·ä¸€ä¸‹äº†ï¼ˆä¸‹æ ‡æ˜¯ Tï¼‰ï¼Œæ³¨æ„ä¸æ˜¯ cdq åˆ†æ²»ï¼Œå°±æ˜¯æ™®é€šçš„åˆ†æ²»ã€‚æˆ–è€…ä¹Ÿå¯ä»¥å †ä¼˜åŒ–ï¼Œå³æ¯æ¬¡é€‰ä¸¤ä¸ªé•¿åº¦æœ€å°çš„å·ã€‚nlog^2n</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i, x, y) for (int i = x; i &lt;= y; i++)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod = <span class="number">998244353</span>, N = <span class="number">3e5</span> + <span class="number">10</span>, G1 = <span class="number">3</span>, G2 = (mod + <span class="number">1</span>) / G1;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line">ll n, w[N], lim, sum[N], stk[<span class="number">32</span>], top, g[<span class="number">32</span>][N], ans, f[N], L, rev[N];</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">quick_pow</span><span class="params">(ll a, ll b)</span> </span>&#123;</span><br><span class="line">    ll ret = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (; b; b &gt;&gt;= <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (b &amp; <span class="number">1</span>) ret = ret * a % mod;</span><br><span class="line">        a = a * a % mod;</span><br><span class="line">    &#125; <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">get_rev</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    rep(i, <span class="number">1</span>, lim - <span class="number">1</span>)</span><br><span class="line">        rev[i] = (rev[i &gt;&gt; <span class="number">1</span>] &gt;&gt; <span class="number">1</span>) | ((i &amp; <span class="number">1</span>) &lt;&lt; (L - <span class="number">1</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">NTT</span><span class="params">(ll a[], <span class="keyword">int</span> op)</span> </span>&#123;</span><br><span class="line">    rep(i, <span class="number">1</span>, lim - <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">if</span> (i &lt; rev[i]) swap(a[i], a[rev[i]]);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> mid = <span class="number">1</span>; mid &lt; lim; mid &lt;&lt;= <span class="number">1</span>) &#123;</span><br><span class="line">        ll W = quick_pow(op == <span class="number">1</span> ? G1 : G2, (mod - <span class="number">1</span>) / (mid &lt;&lt; <span class="number">1</span>));</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; lim; j += (mid &lt;&lt; <span class="number">1</span>)) &#123;</span><br><span class="line">            ll w = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; mid; k++, w = w * W % mod) &#123;</span><br><span class="line">                ll x = a[j + k], y = w * a[j + k + mid] % mod;</span><br><span class="line">                a[j + k] = (x + y) % mod, a[j + k + mid] = (x - y + mod) % mod;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (op == <span class="number">-1</span>) &#123;</span><br><span class="line">        ll Inv = quick_pow(lim, mod - <span class="number">2</span>);</span><br><span class="line">        rep(i, <span class="number">0</span>, lim - <span class="number">1</span>) a[i] = a[i] * Inv % mod;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">(ll f[], <span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (l == r) &#123;</span><br><span class="line">        f[<span class="number">0</span>] = <span class="number">1</span>, f[w[l]] = mod - <span class="number">1</span>; <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>, ls, rs;</span><br><span class="line">    ls = stk[top--], solve(g[ls], l, mid);</span><br><span class="line">    rs = stk[top--], solve(g[rs], mid + <span class="number">1</span>, r);</span><br><span class="line">    lim = <span class="number">1</span>, L = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (lim &lt;= sum[r] - sum[l - <span class="number">1</span>]) lim &lt;&lt;= <span class="number">1</span>, ++L;</span><br><span class="line">    get_rev();</span><br><span class="line">    NTT(g[ls], <span class="number">1</span>), NTT(g[rs], <span class="number">1</span>);</span><br><span class="line">    rep(i, <span class="number">0</span>, lim - <span class="number">1</span>) f[i] = g[ls][i] * g[rs][i] % mod;</span><br><span class="line">    NTT(f, <span class="number">-1</span>);</span><br><span class="line">    rep(i, <span class="number">0</span>, lim - <span class="number">1</span>) g[ls][i] = g[rs][i] = <span class="number">0</span>;</span><br><span class="line">    stk[++top] = ls, stk[++top] = rs;  <span class="comment">// åƒåœ¾å›æ”¶</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">    rep(i, <span class="number">1</span>, n) <span class="built_in">scanf</span>(<span class="string">"%lld"</span>, &amp;w[i]), sum[i] = sum[i - <span class="number">1</span>] + w[i];</span><br><span class="line">    rep(i, <span class="number">1</span>, <span class="number">30</span>) stk[++top] = i;</span><br><span class="line">    solve(f, <span class="number">2</span>, n);</span><br><span class="line">    rep(i, <span class="number">0</span>, sum[n] - w[<span class="number">1</span>])</span><br><span class="line">        ans = (ans + w[<span class="number">1</span>] * quick_pow(i + w[<span class="number">1</span>], mod - <span class="number">2</span>) % mod * f[i] % mod) % mod;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>, ans);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="å¥—è·¯3-é«˜æ–¯æ¶ˆå…ƒ"><a href="#å¥—è·¯3-é«˜æ–¯æ¶ˆå…ƒ" class="headerlink" title="å¥—è·¯3. é«˜æ–¯æ¶ˆå…ƒ"></a><strong>å¥—è·¯3. é«˜æ–¯æ¶ˆå…ƒ</strong></h2><hr>
<p>ç»ˆäºåˆ°äº†æˆ‘æœ€å–œæ¬¢çš„éƒ¨åˆ† ~ é«˜æ¶ˆï¼</p>
<p>æˆ‘çº ç»“äº†å¾ˆä¹…çš„é—®é¢˜ï¼šå›¾ä¸Šæ¸¸èµ°é—®é¢˜ æ˜¯ä»¥å‡ºå‘ç‚¹åº¦æ•°ä½œä¸ºåˆ†æ¯è¿˜æ˜¯ç»ˆç‚¹åº¦æ•°ä½œä¸ºåˆ†æ¯ï¼Œä½†è¿™å…¶å®åº”é¢˜è€Œå¼‚ï¼Œä¸»è¦è·Ÿä½ è®¾è®¡çš„ dp çŠ¶æ€æœ‰å…³ã€‚</p>
<h3 id="USACO10HOL-Driving-Out-the-Piggies-G"><a href="#USACO10HOL-Driving-Out-the-Piggies-G" class="headerlink" title="$[USACO10HOL]-Driving Out the Piggies G$"></a><a href="https://www.luogu.com.cn/problem/P2973" target="_blank" rel="noopener">$[USACO10HOL]-Driving Out the Piggies G$</a></h3><p>$f[x]$ è¡¨ç¤ºèµ°åˆ° x ä¸çˆ†ç‚¸çš„æ¦‚ç‡ï¼ˆçˆ†ç‚¸åªè¦ä¹˜ä¸Š $\frac{p}{q}$ å°±å¥½äº†ï¼‰</p>
<p>å¯¹äºéèµ·å§‹ç‚¹çš„ xï¼Œ$f[x] = \sum \frac{(1 - \frac{p}{q})f[y]}{deg_y}$</p>
<h3 id="HNOI2013-æ¸¸èµ°"><a href="#HNOI2013-æ¸¸èµ°" class="headerlink" title="$[HNOI2013]-æ¸¸èµ°$"></a><a href="https://www.luogu.com.cn/problem/P3232" target="_blank" rel="noopener">$[HNOI2013]-æ¸¸èµ°$</a></h3><p>å‡ ä¸ªæœˆå‰åšçš„ï¼Œç°åœ¨æ¥çœ‹å´æœ‰äº†æ–°çš„ä½“ä¼šã€‚</p>
<p>æ ¹æ®æœŸæœ›çš„çº¿æ€§æ€§è´¨ï¼Œ$E[åˆ†æ•°ä¹‹å’Œ] = \sum_{(u, v) \in G} E[(u, v)åˆ†æ•°] = \sum_{(u, v) \in G} E[ç»è¿‡(u, v)çš„æ¬¡æ•°] \times val(u, v)$ï¼Œé‚£ä¹ˆç®—å‡ºæ¯æ¡è¾¹è¢«ç»è¿‡æ¬¡æ•°åä»å°åˆ°å¤§æ’åºï¼Œè´ªå¿ƒçš„ä»å¤§åˆ°å°èµ‹è¾¹æƒå°±å¯ä»¥äº†ã€‚</p>
<p>è¾¹ç»è¿‡çš„æœŸæœ›æ¬¡æ•°å¯ä»¥è½¬åŒ–æˆç‚¹ç»è¿‡çš„æœŸæœ›æ¬¡æ•°ã€‚$E[u, v] = \frac{E[u]}{deg_u} + \frac{E[v]}{deg_v}$, $E[u] = \sum \frac{E[v]}{deg_v} + [u == 1]$</p>
<h3 id="HNOI2011-XORå’Œè·¯å¾„"><a href="#HNOI2011-XORå’Œè·¯å¾„" class="headerlink" title="$[HNOI2011]-XORå’Œè·¯å¾„$"></a><a href="https://www.luogu.com.cn/problem/P3211" target="_blank" rel="noopener">$[HNOI2011]-XORå’Œè·¯å¾„$</a></h3><p>æ•´ä¸ªåšä¸å¥½åšã€‚æ ¹æ®æœŸæœ›çš„çº¿æ€§æ€§è´¨ï¼ŒæŒ‰ä½è€ƒè™‘ï¼Œè®¡ç®—å‡ºæ¯ä¸€ä½ä¸º 1 çš„æ¦‚ç‡ç›´æ¥ç›¸åŠ ã€‚$f[x]$ è¡¨ç¤ºä» x åˆ° n å½“å‰ä½ä¸º 1 çš„æ¦‚ç‡ã€‚</p>
<p>$$f[x] = \sum\limits_{(x, y) = 0} \frac{f[y]}{deg_y} + \sum\limits_{(x, y) = 1} \frac{1 - f[y]}{deg_y}$$</p>
<p>ç§»é¡¹ä»¥åé«˜æ¶ˆã€‚æ³¨æ„è¾¹ç•Œï¼Œ$f[n] = 0$</p>
<h2 id="å¥—è·¯4-åˆ†å¼€è€ƒè™‘è´¡çŒ®"><a href="#å¥—è·¯4-åˆ†å¼€è€ƒè™‘è´¡çŒ®" class="headerlink" title="å¥—è·¯4. åˆ†å¼€è€ƒè™‘è´¡çŒ®"></a><strong>å¥—è·¯4. åˆ†å¼€è€ƒè™‘è´¡çŒ®</strong></h2><hr>
<p>è¿™éƒ¨åˆ†ä¸»è¦æ˜¯æœŸæœ›çš„çº¿æ€§æ€§è´¨çš„åº”ç”¨ã€‚å…¶å®å‰é¢çš„é¢˜ç›®ä¹Ÿæœ‰ä½“ç°ã€‚</p>
<h3 id="ä»“é¼ æ‰¾sugar-II"><a href="#ä»“é¼ æ‰¾sugar-II" class="headerlink" title="$ä»“é¼ æ‰¾sugar II$"></a><a href="https://www.luogu.com.cn/problem/P3412" target="_blank" rel="noopener">$ä»“é¼ æ‰¾sugar II$</a></h3><p>æ•°æ®èŒƒå›´è¿™ä¹ˆå¤§ ä¸èƒ½é«˜æ¶ˆ =&gt; æˆ‘ä¸ä¼šåšäº†ï¼</p>
<p>æŠŠç›®æ ‡èŠ‚ç‚¹çœ‹ä½œæ ¹ï¼Œè¿™æ ·ç­”æ¡ˆå°±æˆäº†åˆ°è¾¾æ ¹çš„æœŸæœ›æ­¥æ•°å’Œ</p>
<p>è®¾ $f[x]$ è¡¨ç¤ºä» x å‘ä¸Šèµ°ä¸€æ­¥çš„æœŸæœ›æ­¥æ•°ï¼Œé‚£ä¹ˆ $f[x] = \frac{1}{deg_x} + \frac{deg_x - 1}{deg_x}(1 + \frac{\sum\limits_{y \in Son(x)} f[y]}{deg_x - 1} + f[x]) = 1 + \frac{\sum\limits_{y \in Son(x)} f[y]}{deg_x} + f[x] = deg_x + \sum\limits_{y \in Son(x)}f[y]$, å¶å­ $x$ çš„ $f[x] = 1$</p>
<p>æ ‘å½¢dp $n$ æ¬¡èƒ½è·å¾— 50 åˆ†çš„å¥½æˆç»©ï¼Œè€ƒè™‘å†ä¼˜åŒ–â€”â€”æ¢æ ¹æ³•ã€‚</p>
<p>è®¾ $g[x]$ è¡¨ç¤ºåœ¨ $fa[x]$ çš„å„¿å­ä¸­é™¤äº† $x$ ä»¥å¤–çš„ $f$ å€¼ä¹‹å’Œã€‚æ ¹ä» $u$ å˜æˆ $v$ å®é™…ä¸Šåªä¼šå½±å“ $u$ å’Œ $v$ çš„ $f$ å€¼å’Œå­æ ‘å¤§å°ï¼Œå³ $f[u] = deg_u + g[v], f[v] = 0$ï¼Œå­æ ‘å’Œéšä¾¿æä¸€ä¸‹ã€‚$ans = \frac{\sum\limits_{rt = 1}^n\sum\limits_{x = 1}^n f[x] \times sz[x]}{n^2}$</p>
<h3 id="å°é­”å¥³å¸•çª"><a href="#å°é­”å¥³å¸•çª" class="headerlink" title="$å°é­”å¥³å¸•çª$"></a><a href="https://www.luogu.com.cn/problem/P3802" target="_blank" rel="noopener">$å°é­”å¥³å¸•çª$</a></h3><p>æ ¹æ®æœŸæœ›çš„çº¿æ€§æ€§è´¨ï¼Œ$E[æ€»æ•°] = \sum\limits_i E[ä» i å¼€å§‹çš„ä¸ƒä¸ªé­”æ³•éƒ½ä¸ç›¸åŒ]$ï¼Œæ¯ä¸ªä½ç½® i çš„è¿ç»­ä¸ƒä¸ªä¸ç›¸åŒçš„æ¦‚ç‡éƒ½æ˜¯ç›¸åŒçš„ã€‚ç­”æ¡ˆå°±æ˜¯ $7! \times \prod\limits_{i = 1}^7 \frac{a_i}{N - i + 1} \times (N - 6)$</p>
<h3 id="HNOI2015-äºšç‘Ÿç‹"><a href="#HNOI2015-äºšç‘Ÿç‹" class="headerlink" title="$[HNOI2015]-äºšç‘Ÿç‹$"></a><a href="https://www.luogu.com.cn/problem/P3239" target="_blank" rel="noopener">$[HNOI2015]-äºšç‘Ÿç‹$</a></h3><p>æ ¹æ®æœŸæœ›çš„çº¿æ€§æ€§è´¨ï¼Œè€ƒè™‘æ¯å¼ ç‰Œå¯¹ç­”æ¡ˆçš„è´¡çŒ®ã€‚å‘ç°ç¬¬ $i$ å¼ ç‰Œè¢«è€ƒè™‘åˆ°çš„æ¬¡æ•°<strong>åª</strong>å’Œå‰ $i - 1$ å¼ ç‰Œäº§ç”Ÿè´¡çŒ®çš„<strong>æ•°é‡</strong>æœ‰å…³ï¼ˆè®¾å…¶ä¸º $j$ï¼‰ï¼Œå› ä¸ºè¿™ $j$ å¼ ç‰Œäº§ç”Ÿè´¡çŒ®çš„æ—¶é—´å’Œé¡ºåºä¸è®ºæ€æ ·å˜æ¢ï¼Œç¬¬ $i$ å¼ ç‰Œéƒ½èƒ½è¢«è€ƒè™‘åˆ° $r - j$ æ¬¡ã€‚</p>
<p>äºæ˜¯æƒ³åˆ° dpã€‚$f[i, j]$ è¡¨ç¤ºåœ¨ $r$ è½®ä¸­å‰ $i$ å¼ ç‰Œæœ‰ $j$ å¼ äº§ç”Ÿè´¡çŒ®çš„æ¦‚ç‡ï¼Œ$g[i]$ è¡¨ç¤ºç¬¬ $i$ å¼ ç‰Œäº§ç”Ÿè´¡çŒ®çš„æ¦‚ç‡ã€‚é‚£ä¹ˆ</p>
<p>$$f[i, j] = [j &lt;= i - 1] \times f[i - 1, j] \times (1 - p[i])^{r - j} + [j &gt; 0] \times f[i - 1, j - 1] \times (1 - (1 - p[i])^{r - j + 1})$$</p>
<p>$$g[i] = \sum\limits_{j = 0}^{min(i - 1, r)}f[i - 1, j] \times (1 - (1 - p[i])^{r - j})$$</p>
<p>æœ€ç»ˆ $ans = \sum\limits_{i = 1}^n g[i] \times d[i]$</p>
<p>æœ€ç»ˆç­”æ¡ˆå°±æ˜¯ $f[1, 0]$</p>
<h2 id="å¥—è·¯5-æ•´æ•°æ¦‚ç‡å…¬å¼"><a href="#å¥—è·¯5-æ•´æ•°æ¦‚ç‡å…¬å¼" class="headerlink" title="å¥—è·¯5. æ•´æ•°æ¦‚ç‡å…¬å¼"></a><strong>å¥—è·¯5. æ•´æ•°æ¦‚ç‡å…¬å¼</strong></h2><hr>
<p>è¿™éƒ¨åˆ†æ˜¯çœŸçš„æ²¡æ€ä¹ˆç»ƒè¿‡ã€‚ã€‚</p>
<p>åæ­£è¦çŸ¥é“å…¬å¼ï¼šå¯¹äºéšæœºå˜é‡ $k &gt;= 0$, $E(k) = \sum\limits_{i = 0}^{\infty} P(k \ge i)$</p>
<h3 id="éšæœºæ•°ç”Ÿæˆå™¨"><a href="#éšæœºæ•°ç”Ÿæˆå™¨" class="headerlink" title="$éšæœºæ•°ç”Ÿæˆå™¨$"></a><a href="https://www.luogu.com.cn/problem/P3600" target="_blank" rel="noopener">$éšæœºæ•°ç”Ÿæˆå™¨$</a></h3><p>æ ¹æ®ä¸Šé¢é‚£ä¸ªå…¬å¼ï¼Œæˆ‘ä»¬å°±æ˜¯è¦è®¡ç®—å‡º $P(ans \ge i)$ã€‚å‘ç° $\ge$ ä¸å¥½æ±‚ï¼Œ$\leq$ æŒºå¥½æ±‚ï¼Œå› ä¸ºæ¯ä¸ªåŒºé—´é‡Œè‡³å°‘æœ‰ä¸€ä¸ª $\leq i$ çš„å°±ç®—æ»¡è¶³æ¡ä»¶äº†ï¼Œæ‰€ä»¥è€ƒè™‘å°† $P(ans \ge i)$ è½¬åŒ–ä¸º $1 - P(ans &lt; i)$ã€‚</p>
<p>æˆ‘ä»¬å‘ç°ä¸¤ä¸ªåŒºé—´æ˜¯åŒ…å«å…³ç³»çš„è¯ï¼Œå¤§çš„åŒºé—´å¯¹ç­”æ¡ˆæ²¡æœ‰è´¡çŒ®ï¼Œäºæ˜¯æ“ä½œä¸€æ³¢ä½¿å¾—åŒºé—´ä»¬çš„å·¦å³ç«¯ç‚¹ä¸å‡ã€‚è€ƒè™‘æŸä¸ªä½ç½®çš„æ•°ï¼Œå¦‚æœå®ƒ $\leq i - 1$ å°±èƒ½å¯¹è¦†ç›–è‡ªå·±çš„åŒºé—´äº§ç”Ÿè´¡çŒ®ï¼Œè€Œä¸”è¦†ç›–è‡ªå·±çš„åŒºé—´ç¼–å·è¿ç»­ã€‚è€ƒè™‘å°†ç‚¹å’ŒåŒºé—´äº’æ¢ï¼Œé—®é¢˜ç­‰ä»·äºæ¯ä¸ªç‚¹èƒ½è¦†ç›–ä¸€äº›åŒºé—´ï¼Œä¸”è¦†ç›–çš„æ¦‚ç‡ä¸º $p = \frac{i - 1}{x}$ï¼Œç”¨ä¸€äº›ç‚¹å»è¦†ç›–æ‰€æœ‰åŒºé—´çš„æ¦‚ç‡ã€‚</p>
<p>å®¹æ˜“æƒ³åˆ° dpï¼Œè®¾ $l[i]$ è¡¨ç¤ºç‚¹ i è¦†ç›–çš„æœ€å·¦è¾¹çš„åŒºé—´ï¼Œ$r[i]$ æ˜¯æœ€å³è¾¹çš„ï¼Œ$f[i]$ è¡¨ç¤ºå¼ºåˆ¶é€‰ç¬¬ i ä¸ªç‚¹ï¼Œç„¶åè¦†ç›–äº† $1$ ~ $r[i]$ æ‰€æœ‰åŒºé—´çš„æ¦‚ç‡ï¼Œé‚£ä¹ˆ</p>
<p>$$f[i] = p \times (\sum\limits_{r[j] \ge l[i] - 1} f[j] \times (1 - p)^{i - 1 - j} + <a href="1 - p">l[i] = 1</a>^{i - 1})$$</p>
<p>æœ€ç»ˆç­”æ¡ˆå°±æ˜¯ $\sum\limits_{r[i] = Q}f[i] \times (1 - p)^{n - i}$</p>
<p>ç›´æ¥åšæ˜¯ $n^3$ çš„ï¼Œå‰ç¼€å’Œç»´æŠ¤ä¸€ä¸‹å°±å¥½äº†ã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i, x, y) for (int i = x; i &lt;= y; i++)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">2e3</span> + <span class="number">10</span>, mod = <span class="number">666623333</span>;</span><br><span class="line"><span class="keyword">int</span> n, x, Q, top, L, R;</span><br><span class="line"><span class="keyword">int</span> stk[N], l[N], r[N];</span><br><span class="line">ll f[N], ans, pre[N];</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span> &#123;</span> <span class="keyword">int</span> l, r; &#125;q[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(node a, node b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a.l == b.l ? a.r &gt; b.r : a.l &lt; b.l;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">qpow</span><span class="params">(ll a, ll b)</span> </span>&#123;</span><br><span class="line">    ll ret = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (; b; b &gt;&gt;= <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (b &amp; <span class="number">1</span>) ret = ret * a % mod;</span><br><span class="line">        a = a * a % mod;</span><br><span class="line">    &#125; <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">prework</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    sort(q + <span class="number">1</span>, q + Q + <span class="number">1</span>, cmp);</span><br><span class="line">    rep(i, <span class="number">1</span>, Q) &#123;</span><br><span class="line">        <span class="keyword">while</span> (top &amp;&amp; q[stk[top]].r &gt;= q[i].r) --top;</span><br><span class="line">        stk[++top] = i;</span><br><span class="line">    &#125;</span><br><span class="line">    Q = top;</span><br><span class="line">    rep(i, <span class="number">1</span>, Q) q[i] = q[stk[i]];</span><br><span class="line">    L = <span class="number">1</span>, R = <span class="number">0</span>;</span><br><span class="line">    rep(i, <span class="number">1</span>, n) &#123;</span><br><span class="line">        <span class="keyword">while</span> (R &lt; Q &amp;&amp; q[R + <span class="number">1</span>].l &lt;= i) ++R;</span><br><span class="line">        <span class="keyword">while</span> (L &lt;= R &amp;&amp; q[L].r &lt; i) ++L;</span><br><span class="line">        l[i] = L, r[i] = R;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n &gt;&gt; x &gt;&gt; Q;</span><br><span class="line">    rep(i, <span class="number">1</span>, Q) <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;q[i].l, &amp;q[i].r);</span><br><span class="line">    prework();</span><br><span class="line">    rep(i, <span class="number">1</span>, x) &#123;</span><br><span class="line">        ll sum = <span class="number">0</span>, tot = <span class="number">1</span>;</span><br><span class="line">        ll p = (i - <span class="number">1</span>) * qpow(x, mod - <span class="number">2</span>) % mod;</span><br><span class="line">        ll pp = mod + <span class="number">1</span> - p;</span><br><span class="line">        ll invp = qpow(pp, mod - <span class="number">2</span>);</span><br><span class="line">        <span class="keyword">int</span> lst = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">memset</span>(f, <span class="number">0</span>, <span class="keyword">sizeof</span>(f));</span><br><span class="line">        f[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        rep(j, <span class="number">1</span>, n) &#123;</span><br><span class="line">            <span class="keyword">while</span> (lst &lt; j &amp;&amp; r[lst] &lt; l[j] - <span class="number">1</span>)</span><br><span class="line">                tot = (tot - f[lst] * qpow(invp, lst) % mod + mod) % mod, ++lst;</span><br><span class="line">            f[j] = p * tot % mod * qpow(pp, j - <span class="number">1</span>) % mod;</span><br><span class="line">            tot = (tot + f[j] * qpow(invp, j) % mod) % mod;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = n; j &amp;&amp; r[j] == Q; --j) sum = (sum + f[j] * qpow(pp, n - j) % mod) % mod;</span><br><span class="line">        ans = (ans + <span class="number">1</span> - sum + mod) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>, ans);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/08/11/[SHOI2016]-æˆç»©æ¯”è¾ƒ/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="imily">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="imily's notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2020/08/11/[SHOI2016]-æˆç»©æ¯”è¾ƒ/" itemprop="url">
                  [SHOI2016]-æˆç»©æ¯”è¾ƒ
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2020-08-11T10:33:40+08:00">
                2020-08-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>é¦–å…ˆå‘ç°æ°å¥½ K åç¢¾å‹çš„å¥½éš¾ç®—å•Šï¼è®¡æ•°é¢˜å˜›ï¼Œæƒ³åˆ°å®¹æ–¥ï¼Œf æ°å¥½ï¼Œg è‡³å°‘ï¼Œå¥—è·¯ä¸€æ³¢ã€‚</p>
<p>$$g(k) = C^{k}<em>{n - 1} \times ( \prod</em>{i = 1}^m C^{n - r_i - k}<em>{n - k - 1} \sum\limits</em>{j = 1}^{U_i} j^{n - r_i} (U_i - j)^{r_i - 1} )$$</p>
<p>å‘ç°å¾ˆæœ‰å¸Œæœ›ï¼Œä½†æ˜¯åé¢é‚£ä¸ª sigma ä¸å¤ªå¥½æï¼Œè€ƒè™‘æ‹¿å‡ºæ¥é¢„å¤„ç†ï¼Œè¿ç”¨äºŒé¡¹å¼å®šç†å¾—</p>
<p>$$\sum\limits_{l = 0}^{r_i - 1} C_{r_i - 1}^l (-1)^l U_i^{r_i - 1 - l} \sum\limits_{j = 1}^{U_i} j^{n - r_i + l}$$</p>
<p>åé¢é‚£ä¸ª sigma æ˜¯ä¸ªè‡ªç„¶æ•°å¹‚æ±‚å’Œï¼Œç”¨æ‹‰æ ¼æœ—æ—¥æ’å€¼æ³•æ±‚ï¼Œç„¶è€Œæˆ‘ä¸ä¼šæ‰€ä»¥<strong>å’•å’•</strong></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/08/11/2020 ç™¾åº¦ä¹‹æ˜Ÿç¨‹åºè®¾è®¡å¤§èµ› - å¤èµ›/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="imily">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="imily's notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2020/08/11/2020 ç™¾åº¦ä¹‹æ˜Ÿç¨‹åºè®¾è®¡å¤§èµ› - å¤èµ›/" itemprop="url">
                  2020 ç™¾åº¦ä¹‹æ˜Ÿç¨‹åºè®¾è®¡å¤§èµ› - å¤èµ›
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2020-08-11T07:22:40+08:00">
                2020-08-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="A"><a href="#A" class="headerlink" title="A"></a>A</h2><hr>
<p>A å˜åŒ–çš„æœŸæœ›å°±æ˜¯ (m - B æ”»å‡»æˆåŠŸçš„æœŸæœ›æ¬¡æ•°)ï¼ŒæŒºç®€å•çš„ä¸€é¢˜</p>
<h1 id="B"><a href="#B" class="headerlink" title="B"></a>B</h1><hr>
<p>é¢˜ç›®è¯»é”™äº†ï¼ˆè¿™ä¹Ÿèƒ½é”™ï¼Ÿï¼‰æˆ‘çœ‹æˆåœ¨ä»»æ„ä½ç½®åŠ ä¸€äº†å°±ä¸ä¼šåšå•Šå•Šå•Š</p>
<p>æ“ä½œäºŒåªä¼šæ‰§è¡Œä¸€æ¬¡æˆ–ä¸æ‰§è¡Œï¼Œå› ä¸ºæŠŠå‰é¢ä¸€ä¸²æ¸…é›¶äº†è¿˜è¦å˜æˆ 1 æ‰èƒ½å†åšæ“ä½œäºŒï¼Œç›®çš„ä»…ä»…ä¸ºäº†å°†åé¢ä¸€ä½å˜æˆ 1ï¼Œè¿™æ˜¾ç„¶ç”¨æ“ä½œä¸€å°±å¤Ÿäº†ã€‚ã€‚æšä¸¾æ“ä½œäºŒæŠŠå¤šé•¿çš„å‰ç¼€å˜æˆ 0 å°±å¥½äº†ã€‚</p>
<h2 id="C"><a href="#C" class="headerlink" title="C"></a>C</h2><hr>
<p>å°æ„é€ é¢˜ã€‚æœ€å°å’Œæœ€å¤§æ˜¯ç›¸ä¼¼çš„æƒ…å†µï¼Œè¿™é‡Œå°±è€ƒè™‘æœ€å¤§çš„ã€‚è€ƒè™‘æˆ‘ä»¬æƒ³è¦å¤§çš„æ•°è´¡çŒ®å°½é‡å¤§ï¼Œå¯ä»¥è¿™æ ·æ„é€ ï¼šl = 8, k = 3ï¼Œ000001110000011100000111â€¦ ä»å¤§åˆ°å°ä¾æ¬¡ç»™ 1 èµ‹å€¼ã€‚</p>
<h2 id="D"><a href="#D" class="headerlink" title="D"></a>D</h2><hr>
<p>å’•å’•</p>
<h2 id="E"><a href="#E" class="headerlink" title="E"></a>E</h2><hr>
<p>æ”»å‡»æ€»å…±æœ‰å››ç§æƒ…å†µï¼Œå…¶ä¸­å¦‚æœåŒä¸€è½®ä¸­ä¸¤ä¸ªäººéƒ½ miss äº†ç›¸å½“äºæ²¡æœ‰è´¡çŒ®ï¼Œå…·ä½“æ¥è¯´</p>
<p>è®¾ $f(n, m)$ ä¸ºä» (n, m) å‡ºå‘ï¼ŒAlice æ´»ä¸‹æ¥çš„æ¦‚ç‡ã€‚é‚£ä¹ˆ</p>
<p>$f(n, m) = f(n, m)(1 - p)(1 - q) + f(n, m - 1)p(1 - q) + f(n - 1, m)q(1 - p) + f(n - 1, m - 1)pq$</p>
<p>$f(n, m) = \frac{f(n, m - 1)p(1 - q) + f(n - 1, m)q(1 - p) + f(n - 1, m - 1)pq}{1 - (1 - p)(1 - q)}$</p>
<p>å¯ä»¥çœ‹ä½œ </p>
<ul>
<li>case 1: $(n, m)$ æœ‰ $a = \frac{pq}{1 - (1 - p)(1 - q)}$ çš„æ¦‚ç‡è½¬åˆ° $(n - 1, m - 1)$</li>
<li>case 2: æœ‰ $b = \frac{p(1 - q)}{1 - (1 - p)(1 - q)}$ çš„æ¦‚ç‡è½¬åˆ° $(n, m - 1)$</li>
<li>case 3: æœ‰ $c = \frac{q(1 - p)}{1 - (1 - p)(1 - q)}$ çš„æ¦‚ç‡è½¬åˆ° $(n - 1, m)$</li>
</ul>
<p>è®¾æœ€ç»ˆç§»åŠ¨åˆ°äº† $(r, 1)$ <strong>(ä¸ºä»€ä¹ˆä¸æ˜¯ $(r, 0)$ï¼Ÿå› ä¸ºæœ€åä¸€æ¬¡ Alice æŠŠ Bob æ‰“æ­»ï¼ŒBob æ²¡æœ‰æœºä¼šæ”»å‡» Alice)</strong> ï¼Œcase 1 æ“ä½œäº† $x$ æ¬¡ï¼Œé‚£ä¹ˆ case 2 æ“ä½œäº† $m - 1 - x$ æ¬¡ï¼Œcase 3 æ“ä½œäº† $n - r - x$ æ¬¡ï¼Œå°±å¯ä»¥å†™å‡ºæŸ¿å­ï¼š</p>
<p>$\sum\limits_{r = 1}^n \sum\limits_{x = 0}^{min(n - r, m - 1)} C(m - 1, x) \times C(m - 1 + n - r - x, m - 1) \times a^x b^{m - 1 - x} c^{n - r - x}$</p>
<p>è¿™ä¸ªä¸å¥½æï¼Œç»§ç»­æ¨ï¼Œè®¾ i = n - r - x</p>
<p>$\sum\limits_{x = 0}^{min(n - 1, m - 1)} a^xb^{m - 1 - x} C(m - 1, x) \sum\limits_{i = 0}^{n - 1 - x} C(m - 1 + i, i) c^i$</p>
<p>å…¶ä¸­åé¢é‚£ä¸ª sigma å¯ä»¥å‰ç¼€å’Œé¢„å¤„ç†ã€‚</p>
<h2 id="F"><a href="#F" class="headerlink" title="F"></a>F</h2><hr>
<p>å’•å’•</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/4/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><span class="space">&hellip;</span><a class="page-number" href="/page/32/">32</a><a class="extend next" rel="next" href="/page/6/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="imily" />
          <p class="site-author-name" itemprop="name">imily</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">312</span>
                <span class="site-state-item-name">æ—¥å¿—</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">110</span>
                <span class="site-state-item-name">æ ‡ç­¾</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">imily</span>
</div>


<div class="powered-by">
  ç”± <a class="theme-link" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨
</div>

<div class="theme-info">
  ä¸»é¢˜ -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  






  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  


  




	





  





  





  






  





  

  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->
  


  

</body>
</html>
