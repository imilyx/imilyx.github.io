<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta property="og:type" content="website">
<meta property="og:title" content="imily&#39;s notes">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="imily&#39;s notes">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="imily&#39;s notes">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title> imily's notes </title><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">imily's notes</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2099/11/30/【置顶】Ideas & Tricks/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="imily">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="imily's notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2099/11/30/【置顶】Ideas & Tricks/" itemprop="url">
                  【置顶】Ideas & Tricks
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2099-11-30T00:00:00+08:00">
                2099-11-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="杂"><a href="#杂" class="headerlink" title="杂"></a>杂</h2><hr>
<ul>
<li><p>中位数相关可考虑二分，将小于二分值的标为 $-1$，大于二分值的标为 $1$</p>
</li>
<li><p>看见乘积考虑取 $log$，这样开方就变成除法，乘就变成加法了，有很多优秀的性质</p>
</li>
<li><p>网格图套路一览：$C = V - E + F$; 分治最短路；二分图染色；笛卡尔树；斯坦纳树（待补）</p>
</li>
<li><p>得失转换题倒顺序。（$UOJ418$ 等许许多多）</p>
</li>
<li><p>某类树上贪心常见题：选了父亲后才能选儿子，要求某些东西最优化。技巧：优的点一定会在父亲被选后立刻被选。堆维护优先级，每次取出队首和父亲所在块合并（如 $UOJ418$ 是放到该块的操作序列末尾）</p>
</li>
<li><p><strong>批量</strong>维护删除或加入信息的可以尝试分治，线段树之类的。</p>
</li>
<li><p>取 K 个最大对，考虑「超级钢琴」做法。本质是贪心和压缩信息。普通形式是维护指针，被取了就后移，一个道理。</p>
</li>
<li><p>小于某个 $limit$ 的操作都被执行，就可以从小往大执行操作。</p>
</li>
<li><p>处理区间的套路：固定一维先算，再求和。</p>
</li>
<li><p>区间本质不同计数：“特征点”思想，数据结构维护</p>
</li>
</ul>
<h2 id="dp"><a href="#dp" class="headerlink" title="dp"></a>dp</h2><hr>
<ul>
<li><p>$dp$ 套 $dp$ 可以看作在一个自动机上暴跑。</p>
</li>
<li><p>要在第一项最优的情况下让第二项最优，比如总个数尽量少的情况下总和尽量小，可以把总和加上 $inf$. ($LOJ2977$)</p>
</li>
<li><p>用期望做计数题（比较典型的是 $ZJOI2019-线段树$）</p>
</li>
<li><p>二进制值域分块，例如高八位和低八位分别在修改和查询时枚举。（$uoj549$）</p>
</li>
<li><p>形如 $dp[i] = \sum\limits_{j = 1}^{c_i} dp[i - j * d]$，可以每 $c_i$ 个设置关键点，$O(n)$ 预处理每个块前后缀和，$O(1)$ 查询。</p>
</li>
</ul>
<h2 id="数学"><a href="#数学" class="headerlink" title="数学"></a>数学</h2><hr>
<ul>
<li><p><a href="https://www.cnblogs.com/gryzy/p/6015485.html" target="_blank" rel="noopener">快速阶乘算法</a></p>
</li>
<li><p>生成函数可考虑实际意义</p>
</li>
<li><p>面对多项式束手无策，不如把它变成封闭形式搞事情，多项式的加减乘除和数的加减乘除类似的，还可以求导、$ln$、$exp$，多好啊！</p>
</li>
<li><p>把 $\prod_{i = l}^{r}$ 变成一个 $r - l + 1$ 次的多项式，就可以 $\sum$ 啦！$\sum$ 就能搞事情啦！</p>
</li>
<li><p>容斥系数可 $dp$！可大力优化指数级复杂度到多项式复杂度。</p>
</li>
<li><p>期望可用整数概率公式拆分，化计数问题为判定问题，更具体的说，化“恰好”为“至少”，易化了问题。</p>
</li>
<li><p>有组合数形式的拆了，元素过大时可考虑下降幂/上升幂形式。</p>
</li>
<li><p>看到二维 $FFT$ 别怕，想想先计一维贡献、再计另一维贡献。（$UOJ574$）</p>
</li>
</ul>
<h2 id="图论"><a href="#图论" class="headerlink" title="图论"></a>图论</h2><hr>
<ul>
<li><p>树上路径问题考虑边分治或者点分治 + 堆</p>
</li>
<li><p>构造一个排列使得权值最大——用费用流求解。</p>
</li>
<li><p>网络流中用连<strong>反向</strong> $\infty$ 边来实现限制。</p>
</li>
</ul>
<h2 id="数据结构"><a href="#数据结构" class="headerlink" title="数据结构"></a>数据结构</h2><hr>
<ul>
<li><p>树状数组区间修改区间查询？</p>
<p>  差分, $d_i = a_i - a_{i - 1}, a_i = \sum\limits_{j = 1}^i d_i$</p>
<p>  $$\sum\limits_{i = 1}^x a_i = \sum\limits_{i = 1}^x \sum\limits_{j = 1}^i d_i = \sum\limits_{i = 1}^x d_i <em> (x - i + 1) = (x + 1) </em> \sum\limits_{i = 1}^x d_i - \sum\limits_{i = 1}^x d_i * i$$</p>
</li>
<li><p>区间问题转二维数点。</p>
</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2099/11/30/【置顶】错误集锦/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="imily">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="imily's notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2099/11/30/【置顶】错误集锦/" itemprop="url">
                  【置顶】错误集锦
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2099-11-30T00:00:00+08:00">
                2099-11-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">我要把 fst 分的场子钉在耻辱柱上</span><br></pre></td></tr></table></figure>
<h2 id="多测清空：特别是建图，cnt清否？lnk清否？deg清否？"><a href="#多测清空：特别是建图，cnt清否？lnk清否？deg清否？" class="headerlink" title="多测清空：特别是建图，cnt清否？lnk清否？deg清否？"></a>多测清空：特别是建图，cnt清否？lnk清否？deg清否？</h2><h2 id="set：不能在-it-的-for-循环中-erase-it"><a href="#set：不能在-it-的-for-循环中-erase-it" class="headerlink" title="set：不能在 it 的 for 循环中 erase(it)"></a>set：不能在 it 的 for 循环中 erase(it)</h2><h2 id="dp-要注意如果有-f-i-min-f-i-j-g-j-，注意判-f-i-j-g-j-会不会炸-long-long（初始值是-1e18-的话会炸！！！）"><a href="#dp-要注意如果有-f-i-min-f-i-j-g-j-，注意判-f-i-j-g-j-会不会炸-long-long（初始值是-1e18-的话会炸！！！）" class="headerlink" title="dp 要注意如果有 f[i] = min(f[i - j] + g[j])，注意判 f[i - j] + g[j] 会不会炸 long long（初始值是 1e18 的话会炸！！！）"></a>dp 要注意如果有 f[i] = min(f[i - j] + g[j])，注意判 f[i - j] + g[j] 会不会炸 long long（初始值是 1e18 的话会炸！！！）</h2><p>——wc2020 场外赛 25 pts$</p>
<h2 id="分母是否为-0？nan！"><a href="#分母是否为-0？nan！" class="headerlink" title="分母是否为 0？nan！"></a>分母是否为 0？nan！</h2><p>——模拟赛 100 -&gt; 0</p>
<h2 id="取模模-0-了吗？RE！"><a href="#取模模-0-了吗？RE！" class="headerlink" title="取模模 0 了吗？RE！"></a>取模模 0 了吗？RE！</h2><p>——做题，wa 了 inf 次</p>
<h2 id="取模取对了吗？正负对了吗？最好输出前-ans-mod-mod！"><a href="#取模取对了吗？正负对了吗？最好输出前-ans-mod-mod！" class="headerlink" title="取模取对了吗？正负对了吗？最好输出前 (ans += mod) %= mod！"></a>取模取对了吗？正负对了吗？最好输出前 (ans += mod) %= mod！</h2><p>——noi2020同步赛 D1T2 ？分</p>
<h2 id="字母打错了吗？"><a href="#字母打错了吗？" class="headerlink" title="字母打错了吗？"></a>字母打错了吗？</h2><p>——noi2020同步赛 D1T3 24 分，r1、r2 打成 c1、c2</p>
<h2 id="空间开大了吗？哪怕卡着都不行！"><a href="#空间开大了吗？哪怕卡着都不行！" class="headerlink" title="空间开大了吗？哪怕卡着都不行！"></a>空间开大了吗？哪怕卡着都不行！</h2><p>——模拟赛 80 -&gt; 0</p>
<h2 id="空间开小了吗？2e5-开了-1e5？"><a href="#空间开小了吗？2e5-开了-1e5？" class="headerlink" title="空间开小了吗？2e5 开了 1e5？"></a>空间开小了吗？2e5 开了 1e5？</h2><p>——模拟赛 80 -&gt; 50</p>
<h2 id="floor-x-是小于等于-x-的最大整数，ceil-x-是大于-x-的最小整数"><a href="#floor-x-是小于等于-x-的最大整数，ceil-x-是大于-x-的最小整数" class="headerlink" title="floor(x) 是小于等于 x 的最大整数，ceil(x) 是大于 x 的最小整数"></a>floor(x) 是小于等于 x 的最大整数，ceil(x) 是<strong>大于</strong> x 的最小整数</h2><p>——模拟赛 fst 了一定分</p>
<h2 id="C-n-m-里写-if-n-lt-m-return-0-了吗？"><a href="#C-n-m-里写-if-n-lt-m-return-0-了吗？" class="headerlink" title="C(n, m) 里写 if (n &lt; m) return 0; 了吗？"></a>C(n, m) 里写 if (n &lt; m) return 0; 了吗？</h2><h2 id="builtin-popcount-不适宜计算-long-long-类型的答案（不知道为啥）"><a href="#builtin-popcount-不适宜计算-long-long-类型的答案（不知道为啥）" class="headerlink" title="__builtin_popcount() 不适宜计算 long long 类型的答案（不知道为啥）"></a>__builtin_popcount() 不适宜计算 long long 类型的答案（不知道为啥）</h2><h2 id="double-题用-int-计算斜率-坐标了吗？"><a href="#double-题用-int-计算斜率-坐标了吗？" class="headerlink" title="double 题用 int 计算斜率/坐标了吗？"></a>double 题用 int 计算斜率/坐标了吗？</h2><h2 id="输出-0-的输出-1-了吗？输出-1-的输出-0-了吗？"><a href="#输出-0-的输出-1-了吗？输出-1-的输出-0-了吗？" class="headerlink" title="输出 0 的输出 -1 了吗？输出 -1 的输出 0 了吗？"></a>输出 0 的输出 -1 了吗？输出 -1 的输出 0 了吗？</h2><p>——模拟赛 100 -&gt; 60</p>
<h2 id="变量重名了吗？外面-i-里面也是-i"><a href="#变量重名了吗？外面-i-里面也是-i" class="headerlink" title="变量重名了吗？外面 i 里面也是 i"></a>变量重名了吗？外面 i 里面也是 i</h2><h2 id="SG函数使用的前提条件：对于任意局面，两个玩家的决策集合相同。"><a href="#SG函数使用的前提条件：对于任意局面，两个玩家的决策集合相同。" class="headerlink" title="SG函数使用的前提条件：对于任意局面，两个玩家的决策集合相同。"></a>SG函数使用的前提条件：对于任意局面，两个玩家的决策集合相同。</h2><h2 id="递归函数里的变量（比如数组的项首）别开在全局"><a href="#递归函数里的变量（比如数组的项首）别开在全局" class="headerlink" title="递归函数里的变量（比如数组的项首）别开在全局"></a>递归函数里的变量（比如数组的项首）别开在全局</h2><p>——bzoj3636 调半天</p>
<h2 id="注意-n、m-等主要变量的最大范围是否出现在同一档分里"><a href="#注意-n、m-等主要变量的最大范围是否出现在同一档分里" class="headerlink" title="注意 n、m 等主要变量的最大范围是否出现在同一档分里"></a>注意 n、m 等主要变量的最大范围是否出现在同一档分里</h2><p>——模拟赛的惨痛遭遇 挂 80pts</p>
<h2 id="不要再不排序求前缀和了！！！💢💢💢"><a href="#不要再不排序求前缀和了！！！💢💢💢" class="headerlink" title="不要再不排序求前缀和了！！！💢💢💢"></a>不要再不排序求前缀和了！！！💢💢💢</h2><p>——模拟赛 100 -&gt; 0</p>
<h2 id="线段树要记得-pushdown-和-update。。。"><a href="#线段树要记得-pushdown-和-update。。。" class="headerlink" title="线段树要记得 pushdown 和 update。。。"></a>线段树要记得 pushdown 和 update。。。</h2><h2 id="Tarjan-边双要记录入边"><a href="#Tarjan-边双要记录入边" class="headerlink" title="Tarjan 边双要记录入边"></a>Tarjan 边双要记录入边</h2><h2 id="数组-5e5-开成-1e5"><a href="#数组-5e5-开成-1e5" class="headerlink" title="数组 5e5 开成 1e5"></a>数组 5e5 开成 1e5</h2><p>——模拟赛 100 -&gt; 60</p>
<h2 id="线段树-if-lx-gt-rx-return"><a href="#线段树-if-lx-gt-rx-return" class="headerlink" title="线段树 if (lx &gt; rx) return;"></a>线段树 <code>if (lx &gt; rx) return;</code></h2><p>——模拟赛 100 -&gt; 30</p>
<h2 id="链式前向星-i-nxt-i-老是写错。"><a href="#链式前向星-i-nxt-i-老是写错。" class="headerlink" title="链式前向星 i = nxt[i] 老是写错。"></a>链式前向星 <code>i = nxt[i]</code> 老是写错。</h2><p>——虫逢 T 成 sb</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2099/11/30/【置顶】考前必看/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="imily">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="imily's notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2099/11/30/【置顶】考前必看/" itemprop="url">
                  【置顶】考前必看
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2099-11-30T00:00:00+08:00">
                2099-11-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h3><ul>
<li>记得开 long long! 为了避免中间变量没开，可以 ctrl + F, 搜索 int，若有漏网之鱼可加以改正。</li>
</ul>
<h3 id="部分分"><a href="#部分分" class="headerlink" title="部分分"></a>部分分</h3><ul>
<li><p>最好不要无脑写暴力。观察部分分表，有特殊性质的量力写。如果有转折较大且分数较多的点，好好想想，也许出题人觉得这个好写，适合普遍大众，而且是本题的一个重点思路呢。因为，比赛并不是全部题目面向dalao的。</p>
</li>
<li><p>10^5 的数据范围一般就是多项式算法；50 以内的怎么也是指数级，状压或者什么的。</p>
</li>
<li><p>充满信心。不要算分。只有在比较哪个部分分更多的情况下算分。</p>
</li>
</ul>
<h3 id="思考策略"><a href="#思考策略" class="headerlink" title="思考策略"></a>思考策略</h3><ul>
<li><p>可以从开头考虑，根据推出的性质猜想，同时从结尾结论倒着推进，两边推进。</p>
</li>
<li><p>可以在条件繁多或受牵制时，暂时忽略部分条件，简化题目，再由特殊到一般。</p>
</li>
</ul>
<h3 id="时间安排策略"><a href="#时间安排策略" class="headerlink" title="时间安排策略"></a>时间安排策略</h3><ul>
<li><p>最后十五分钟，要光荣地，奋战到底。最后时间只留给一道题，只开一档分，因为非常紧张。</p>
</li>
<li><p>NOIP 结尾30～45分钟准备收尾。</p>
</li>
<li><p>要果断选题，去看丢掉的题是于事无补的。放了就是放了，心态会平静很多。</p>
</li>
</ul>
<h3 id="精神要养足！！"><a href="#精神要养足！！" class="headerlink" title="精神要养足！！"></a>精神要养足！！</h3><ul>
<li>早睡能带来好运气(<em>¯︶¯</em>) NOIP 前三周 11 点前睡，前两周 10:20 前睡。</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2099/11/30/【置顶】待学/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="imily">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="imily's notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2099/11/30/【置顶】待学/" itemprop="url">
                  【置顶】待学
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2099-11-30T00:00:00+08:00">
                2099-11-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li><p>群论</p>
</li>
<li><p>生成函数</p>
</li>
<li><p>常系数齐次线性递推</p>
</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2099/11/30/【置顶】OI自主学习内容安排/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="imily">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="imily's notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2099/11/30/【置顶】OI自主学习内容安排/" itemprop="url">
                  【置顶】OI自主学习内容安排
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2099-11-30T00:00:00+08:00">
                2099-11-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><em>SPECIAL:</em></p>
<p><em>练习：</em></p>
<p><em>比赛：</em></p>
<p><em>其他：</em></p>
<hr>
<p><em>待学习：</em></p>
<p><em>待巩固：</em></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/01/31/【计划】21Jan 学习计划/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="imily">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="imily's notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2021/01/31/【计划】21Jan 学习计划/" itemprop="url">
                  21Jan 学习计划
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-01-31T23:59:59+08:00">
                2021-01-31
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>新年新坑~</p>
<h2 id="mathcal-1-2"><a href="#mathcal-1-2" class="headerlink" title="$\mathcal{1.2}$"></a>$\mathcal{1.2}$</h2><hr>
<p>Todo: vp UOJ，订正今天模拟赛, 订正胡策 4，vp AGC012/043，学习斯特林数，巩固 SAM 和生成函数，uoj交互题，清华集训14、16、17，集训队作业，EI与动态图<br>loj560, 3104</p>
<p>SAM<br>PAM<br>最长反链<br>FWT exp ln</p>
<p>agc023e<br>agc023d<br>agc020f<br>agc032e<br>agc035e<br>agc029f</p>
<p>订正昨天 T1<br>ULR T2&amp;3<br>指数公式 <a href="https://loj.ac/p/6737" target="_blank" rel="noopener">https://loj.ac/p/6737</a><br>checkers <a href="https://www.luogu.com.cn/problem/AT3951" target="_blank" rel="noopener">https://www.luogu.com.cn/problem/AT3951</a></p>
<p>联合省选2020<br>九省联考<br>八省联考<br>六省联考<br>ZJOI</p>
<h3 id="XJOI1640"><a href="#XJOI1640" class="headerlink" title="$XJOI1640$"></a>$XJOI1640$</h3><h4 id="T1"><a href="#T1" class="headerlink" title="$T1$"></a>$T1$</h4><p>sb 题？读入格式错了我吐</p>
<h4 id="T2"><a href="#T2" class="headerlink" title="$T2$"></a>$T2$</h4><p>没听懂</p>
<h4 id="T3"><a href="#T3" class="headerlink" title="$T3$"></a>$T3$</h4><p>可以证明 $A = g^a$, $B = g^b$, 就解一个不定方程。</p>
<h3 id="XJOI1641"><a href="#XJOI1641" class="headerlink" title="$XJOI1641$"></a>$XJOI1641$</h3><h4 id="T1-1"><a href="#T1-1" class="headerlink" title="$T1$"></a>$T1$</h4><p>高斯消元成上三角形式，$min$ 就是所有有主元的列答案加起来，$max$ 就是除了最高位外其余位至少有一个 $0$.</p>
<h4 id="T2-1"><a href="#T2-1" class="headerlink" title="$T2$"></a>$T2$</h4><p>hhz 说打个表发现是线性递推，跑 $BM$ 就行了，他不会证。</p>
<p>他提供了另一个思路——生成函数，容斥“相同”这件事，分成若干个集合，强制集合里的物品相同，容斥系数 $(-1)^{集合个数 + 1}$, 然后这个用生成函数。</p>
<h4 id="T3-1"><a href="#T3-1" class="headerlink" title="$T3$"></a>$T3$</h4><p>异或粽子！$K = n(n - 1) / 2$，那没事了。考虑当前在算 $x$ 和 $y$ 为根的 $Trie$ 树子树异或贡献，如果 $x0$、$y1$ 和 $x1$、$y0$ 贡献已经到 $K$ 了就递归做这俩，否则递归做 $x0$、$y0$ 和 $x1$、$y1$，每个 $Trie$ 树节点都要维护子树每位信息。看似两只 $log$，其实实现的精细一点就是一只 $log$，比如只记录儿子有的位的信息（即深度 $d$ 的点只记录 $d$ 及以后位的信息），然后空间用长链剖分优化。</p>
<p>为什么这样复杂度就是对的？考虑单儿子的点，判断是 $O(1)$ 的，空间就继承了；考虑双儿子的点，判断 $O(logV)$，然而 $Trie$ 树有个重要性质：<strong>双儿子点只有 $O(n)$ 个</strong>，所以是 $O(nlogV)$ 的。</p>
<h3 id="养猫"><a href="#养猫" class="headerlink" title="$养猫$"></a><a href="https://loj.ac/p/6079" target="_blank" rel="noopener">$养猫$</a></h3><p>单独写博客了。</p>
<h3 id="THUPC2021"><a href="#THUPC2021" class="headerlink" title="$THUPC2021$"></a><a href="https://loj.ac/p?keyword=thupc%202021" target="_blank" rel="noopener">$THUPC2021$</a></h3><h4 id="切切糕"><a href="#切切糕" class="headerlink" title="切切糕"></a>切切糕</h4><p>有意思的题。发现算 $Kiana$ 没法做，只能算 $Tinytree$ 在双方最优策略下的最大切糕总和。$dp_{i, j}$ 表示切了 $i$ 块糕，使用了 $j$ 次优先选择权，有 $dp_{i, 0} = 0$, $dp_{i, i} = \frac{\sum\limits_{j = 1}^i a_j}{2}$。转移方程: $dp_{i, j} = \max{ dp_{i - 1, j} + x, dp_{i - 1, j - 1} + y }$，其中 $x + y = a_i$, $x &lt; y$. 这是两个一次函数，要最小必然使得两者相等，于是解方程解出 $x$ 即可。</p>
<h4 id="棋盘"><a href="#棋盘" class="headerlink" title="棋盘"></a>棋盘</h4><p>赛场 WA 成 dog 的痛苦你懂吗。后来机房里有人构造出能卡的数据了，但是我 naive 以为我这做法从根本上就错了，实际上只要考虑一种情况：$n$ 为奇数，相邻两列撑满，且这两列距离为偶数。这就需要乱搞了——之间的列从上往下填，填不动了再从下往上填。</p>
<h4 id="线段树"><a href="#线段树" class="headerlink" title="线段树"></a>线段树</h4><p>发现答案只和长度有关，而长度只有 $O(logn)$ 种。算一个长度的答案需要统计左区间贡献、右区间贡献和所有跨中点区间的贡献，要维护前后缀贡献和。</p>
<h4 id="密集子图"><a href="#密集子图" class="headerlink" title="密集子图"></a>密集子图</h4><p>$1$ 到达每个点的最短路长度不超过 $11$，想到在最短路树上分层状压 $dp$（从浅到深和从深到浅显然都可以）。已有点集中只有上一深度的点能向当前点集连边，且当前点集中每个点都和至少一个上一深度的点连边。$dp_{d, s1, s2}$ 表示深度为 $d$ 的集合为 $s2$，深度 $\leq d$ 的集合为 $s1$，转移枚举两次子集，复杂度 $O(n4^n)$，卡我常不讲武德。</p>
<h3 id="Fygon-2-0"><a href="#Fygon-2-0" class="headerlink" title="$Fygon\ 2.0$"></a><a href="https://codeforces.com/gym/101612/" target="_blank" rel="noopener">$Fygon\ 2.0$</a></h3><p>把这个 for 循环看作<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">i in range(1, n)</span><br><span class="line">    if (j &lt;= i &amp;&amp; i &lt;= k)</span><br></pre></td></tr></table></figure></p>
<p>根据不等关系建图，是有向图，先缩点——显然有环的话（比如 $1$ -&gt; $i$ -&gt; $j$ -&gt; $1$）缩点后一个 $SCC$ 里的变量取值相同。<br>缩完是个 $DAG$，$DAG$ 点数就是 $n$ 的次数。</p>
<p>那么系数是啥？考虑其意义，系数就是实际 $lag$++ 的次数占 $n^{DAG 点数}$ 的几分之几。<br>不考虑存在 $SCC$ 取值相同的情况，因为次数会减小，而我们假定 $n$ 趋近于 $\infty$<br>答案就是 $\frac{DAG 的拓扑序个数}{DAG 点数!}$，状压就好了。</p>
<h3 id="文学"><a href="#文学" class="headerlink" title="$文学$"></a><a href="https://uoj.ac/problem/47" target="_blank" rel="noopener">$文学$</a></h3><p>题意：给你很多半平面，让你选一些包含所有点。</p>
<p>特判掉只选一个半平面的情况，剩下的都有至少两个半平面且半平面的补的交为凸包（显然半平面是向外的啊），于是枚举两个半平面，以它们的交点为基准点对所有书本极角排序（因为当枚举的两个半平面在答案集合中为相邻的，它们的交就是凸包上的一个端点，那么其他书本关于它极角排序后在最终的答案半平面集合中一个半平面覆盖一段连续区间的书本），于是先预处理每个区间被一个半平面覆盖的最小代价，再拼起来就完事了。</p>
<h3 id="Buffalo-Barricades"><a href="#Buffalo-Barricades" class="headerlink" title="$Buffalo\ Barricades$"></a><a href="https://ioihw20.duck-ac.cn/problem/290" target="_blank" rel="noopener">$Buffalo\ Barricades$</a></h3><p><strong>仔细读题。</strong> 观察发现若 $x_i &gt; x_j$, $y_i &gt; y_j$, $t_i &lt; t_j$ 则 $i$ 的牛群包含 $j$ 的牛群。如果不看操作编号，我们算出每个栅栏直接统领的牛数，根据包含关系建树（如果有多个包含 $j$ 的就选时间最小的 $i$，显然是个森林），那么子节点答案加给父亲节点就好了。</p>
<p>考虑操作编号，我们只要保证子树中所有操作编号大于根的点的答案都已被算好——这还不明显嘛，时间倒流 + 并查集就可以啦。</p>
<p>一只 $log$，感觉好小清新啊~~ 树套树什么的大概可以轻易做到两只 $log$ 吧。</p>
<h2 id="mathcal-1-5"><a href="#mathcal-1-5" class="headerlink" title="$\mathcal{1.5}$"></a>$\mathcal{1.5}$</h2><hr>
<h3 id="Epic-Win"><a href="#Epic-Win" class="headerlink" title="$Epic\ Win!$"></a><a href="https://codeforces.com/gym/100553/problem/E" target="_blank" rel="noopener">$Epic\ Win!$</a></h3><p>造自动机题。可以采取这样的策略：先建一个对手自动机的副本，其中每个节点状态是克制原节点的，我们称之为“吊打自动机”，吊打自动机每个节点只有一条出边，剩下两条出边是做调整用。</p>
<p>为了使得对手从任意节点开始我都能赢，我们要让自动机适用于对手每个节点，不如把我们的自动机分层，一层对付对手一个点。从对手自动机每个节点出发一直跑跑跑，如果跑过的路程超出了我们自动机当前点数就认为存在胜利的环，否则跑到不存在下个克制对手的状态边时新加一层自动机，这样点数 $n^2$，复杂度 $n^3$。</p>
<h3 id="Indiana-Jones-and-the-Uniform-Cave"><a href="#Indiana-Jones-and-the-Uniform-Cave" class="headerlink" title="$Indiana\ Jones\ and\ the\ Uniform\ Cave$"></a><a href="https://www.luogu.com.cn/problem/P7123" target="_blank" rel="noopener">$Indiana\ Jones\ and\ the\ Uniform\ Cave$</a></h3><p>是一个大 $SCC$，想到用 $tarjan$ 相关模拟 $dfs$。</p>
<p>很有意思，用仅有的信息来表示 dfn、low 和 ins。石头 center、left、right 分别对应未访问、已弹出栈和在栈中。</p>
<p>如果访问到点在栈中，就顺着石头摆放的位置一路走下去，并把沿途的位置石头放在 left，碰到的第一个 left 的点说明走回去了；如果访问到点不在栈中，就一直走到访问到栈中点为止。很好的是记录路径长度就可以算出 low，回到父亲。</p>
<p>（还是没想太明白，代码咕咕</p>
<h3 id="须臾幻境"><a href="#须臾幻境" class="headerlink" title="须臾幻境"></a><a href="https://www.luogu.com.cn/problem/P5385" target="_blank" rel="noopener">须臾幻境</a></h3><p>$LCT$ 维护啥呢。考虑 $u$ 和 $v$ 联通，当且仅当有一条路径全部 $\geq l$（废话</p>
<p>那么 $LCT$ 维护每次 $r$ 右移后形成的最大生成树（要形成环的时候踢掉最小的边。众所周知 LCT 只能维护点，所以化边为点，注意非边点的点权要赋为 $\infty$），$连通块数 = 点数 - 边数 = n - [l, r] 中在最大生成树上的边数$.</p>
<p>一条边只会加入一次，删除至多一次。相当于要查询 $i \in [l, r]$ 且删除时间 $del_i &gt; r$ 的边数，二维数点即可。（主席树都不会写了 /kel</p>
<h3 id="XJOI1643"><a href="#XJOI1643" class="headerlink" title="$XJOI1643$"></a>$XJOI1643$</h3><p>出于各种奥妙重重的原因抱灵辽。</p>
<h4 id="T1-2"><a href="#T1-2" class="headerlink" title="$T1$"></a>$T1$</h4><p>状压模拟拓扑，一开始选 $0$ 度点的过程错了，到手的 $10$ 分飞了</p>
<p><strong>给出的序列是无序的。</strong> 变形一下，把依赖 $x$ 的 $y$ 都挂在 $x$ 下，因为只有后 $n - m$ 个点依赖前 $m$ 个点的份，这是个菊花森林。每个 $x$ 算上它的子树有一个权值区间。我们把 $x$ 们按照权值区间右端点排序，然后走来走去收贡献。</p>
<p>不会走“包含型”的区间，它不优；并且一定是从起点开始往左（或右，应该都可以）走到底然后一路走回来，最后结束在最左或最右边的边界上。往左经过的是区间并，前缀 $min$/$max$ 可以预处理，注意走回来是两倍区间并长。</p>
<h4 id="T2-2"><a href="#T2-2" class="headerlink" title="$T2$"></a>$T2$</h4><p>hhz：网络流本质是特殊的线性规划。建议学习单纯形法，利于骗分。</p>
<p>考虑加完边的最短路图，$d_u + 1 \leq d_v$。这题怎么网络流？边权只有 $O(n)$ 种，建 $n$ 行 $n$ 列点表示 $n$ 种点的 $n$ 种权值，割掉边就表示选了这种权值，相邻连边容量为题目中那个下取整柿子。题目中的 $m$ 条边是来给限制的，考虑这限制是什么，这两个点的最短距离差不能 $&gt; 1$，于是通过连反向 $\infty$ 边来实现。</p>
<h4 id="T3-2"><a href="#T3-2" class="headerlink" title="$T3$"></a>$T3$</h4><p>没输 no solution 到手的 $5$ 分飞了 凸^-^凸</p>
<p>暴力就枚举 $A$ 和 $B$ 的最大值，如果“存在连通块大小 $\geq k$” 则该最大值对合法。</p>
<p>正解考虑枚举 $A$ 的最大值，发现随着它增加，最小的使得“存在连通块大小 $\geq k$” 的 $B$ 最大值 变小。</p>
<p>于是可以动态加边删边，因为考虑两条边 $e_1$ 先于 $e_2$ 被删，当且仅当 $\max{ b_{u_1}, b_{v_1} } \geq \max{ b_{u_2}, b_{v_2} }$，所以边按这个 $max$ 排序，$LCT$ 维护 $MST$ 即可！！！当然也可以把点排序，但是不能一维枚举点、一维枚举边，这样大概会有重有漏。</p>
<p>胡完了，真好【躺平】写了一晚上 + 早上两小时，真有我的！</p>
<h3 id="ULR-1"><a href="#ULR-1" class="headerlink" title="$ULR$#$1$"></a>$ULR$#$1$</h3><p>单独写博客了。</p>
<h2 id="mathcal-1-6"><a href="#mathcal-1-6" class="headerlink" title="$\mathcal{1.6}$"></a>$\mathcal{1.6}$</h2><hr>
<h3 id="XJOI1644"><a href="#XJOI1644" class="headerlink" title="$XJOI1644$"></a>$XJOI1644$</h3><p>挂分++，一个快速幂写挂两处真有我的，md</p>
<h4 id="T1-3"><a href="#T1-3" class="headerlink" title="$T1$"></a>$T1$</h4><p>可以分治算柿子，也可以矩乘加速 $dp$。所以你为什么只想到了 exCRT 合并模数？</p>
<h4 id="T2-3"><a href="#T2-3" class="headerlink" title="$T2$"></a>$T2$</h4><p>考虑一个一个加物品。$(a_x, a_y)$ 和 $(b_x, b_y)$ 合并得到 $(X, Y)$ $(0, Z)$，其中 $X = gcd(a_x, a_y)$。为什么是这样？$X$ 是 $a$ 和 $b$ 合并得到的第一维的最小“单位”，$Y$、$Z$ 相当于第二位的最小“单位”。</p>
<h4 id="T3-3"><a href="#T3-3" class="headerlink" title="$T3$"></a>$T3$</h4><p>对于 $n \leq 5$ 特判。其余 $n$ 为奇数时一定不行，$n$ 为偶数时，只有 $n / 2$ 是质数且 $n / 2 - 1$ 无平方因子时可以。证明据说历史上都找不到，于是咕咕。</p>
<h3 id="AT4144-Donation"><a href="#AT4144-Donation" class="headerlink" title="$AT4144-Donation$"></a><a href="https://www.luogu.com.cn/problem/AT4144" target="_blank" rel="noopener">$AT4144-Donation$</a></h3><p>做过好多遍的套路了，脑袋还是不清醒。考虑在 $i$ 点结束后的钱为 $x$，那么 $x + b_i \geq a_i$, $x \geq a_i - b_i$。</p>
<p>考虑捐赠完 $i$ 再捐赠 $j$ 的最小钱数 $y$，设捐赠完 $j$ 后为 $x$，那么 $y = \max{x + b_j, a_i - b_i}$. 显然按 $a_i - b_i$ 从大到小捐赠最优。我们一个点只捐赠一次，在最后一次经过它时捐赠。并查集维护子树，$dp$。</p>
<h3 id="Bears-and-Juice"><a href="#Bears-and-Juice" class="headerlink" title="$Bears\ and\ Juice$"></a><a href="https://www.luogu.com.cn/problem/CF643F" target="_blank" rel="noopener">$Bears\ and\ Juice$</a></h3><p><a href="https://www.luogu.com.cn/blog/CYJian/solution-cf643f" target="_blank" rel="noopener">大佬的靠谱题解</a></p>
<p>想了好久才明白。xml，菜！</p>
<p>正如大佬所说的，我们先制定一个策略，安排好哪些熊哪天喝哪些酒，使得能够<strong>根据熊的表现推断出哪个桶有酒。</strong> 因为这是我们唯一能获知的信息。</p>
<p>形式化的，我们对每个桶各列一张日程表，第 $i$ 行第 $j$ 列为 $1$ 表示第 $i$ 天第 $j$ 头熊喝了这桶液体。<strong>这张日程表对应的是：如果这桶是酒，熊的表现。</strong></p>
<p>桶有标号，两个桶的日程表不能相同不然就无法与熊的表现一一对应，问题转化为<strong>本质不同日程表计数</strong>。显然 $R_d = \sum\limits_{i = 0}^{\min(n - 1, p)} \binom{n}{i} D^i$，即枚举睡着的熊个数，以及在哪天睡着的。</p>
<p>最后一步是处理这个柿子。$5s$, $O(pq)$ 是可以过的！【震惊】我们只需要预处理组合数，$p^2$ 约去分子和分母的公因数，显然分子一定会被消成 1。</p>
<h2 id="mathcal-1-7"><a href="#mathcal-1-7" class="headerlink" title="$\mathcal{1.7}$"></a>$\mathcal{1.7}$</h2><hr>
<h3 id="XJOI1646"><a href="#XJOI1646" class="headerlink" title="[$XJOI1646$]"></a>[$XJOI1646$]</h3><p>今天的题烂极了，$T1$ 裸费用流，要 $dij$，$n^2$ 版本因为 $m$ 是 $n^2$ 级别而 $dij$ 复杂度是 $mlogn$；$T2$ $SAM$/$SA$ + 线段树几乎是裸题；$T3$ dancing links 裸题，我不会所以抱灵了。是冬令营模拟赛没错吧，xy 你醒醒！</p>
<p>最可气的是我吧，$T2$ 没判<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">if (i + lcp &gt; n) continue;</span><br></pre></td></tr></table></figure></p>
<p>$RE$ 丢 $70$，qswl</p>
<h1 id="xml-你写题必须考虑边界"><a href="#xml-你写题必须考虑边界" class="headerlink" title="xml 你写题必须考虑边界"></a>xml 你写题必须考虑边界</h1><p>hhz 说 $DLX$ 现在不大会考，所以不订正。</p>
<h3 id="虫逢"><a href="#虫逢" class="headerlink" title="虫逢"></a><a href="https://uoj.ac/problem/45" target="_blank" rel="noopener">虫逢</a></h3><p>毫无头绪，只能膜题解。暴力做显然补星，本质是比较的对数太多了，考虑随机化减少比较。确定思考方向：最大化同源虫子的比较概率且尽量让不同源虫子的比较概率小。注意这里的“比较概率”指的是<strong>有机会进行比较的概率</strong>。</p>
<p>随机为每个基因分配权值，定义一个虫子的关键值是它的基因最小值，那么一对虫子<strong>有机会</strong>进行比较当且仅当它们关键值相同，即一对同源虫子比较概率是 $1/3$（假设它们的基因集合分别为 ${X, Y}$, ${X, Z}$，设最小值在 $X$ 处的概率为 $P$，则显然最小值在 $Y$、$Z$ 处的概率也是 $P$，$P = 1/3$），一对不同源虫子比较概率是 $1/L$（题目输入格式那里说的是“集合”，我就理解为一只虫子的基因组里基因不重啦，给出的基因最劣就只有 $L$ 种啦）。</p>
<p>同源虫子比较概率够大了，不同源虫子的比较概率却太大了。考虑为每个基因分配两个权值（其实就是双模 $hash$ 啦），两个概率分别变为 $1/9$ 和 $1/n$，做一次期望成功匹配 $n/9$ 对，期望做 $9$ 次，可以接受。</p>
<p><a href="https://uoj.ac/submission/446541" target="_blank" rel="noopener">$Code$</a></p>
<h3 id="量子破碎"><a href="#量子破碎" class="headerlink" title="量子破碎"></a><a href="https://uoj.ac/problem/328" target="_blank" rel="noopener">量子破碎</a></h3><p>别人说一眼 $FWT$，我连 $FWT$ 原理都忘掉了，赶快去复习。</p>
<p>只能用前两个操作，第一个返回任意一个值不为 $0$ 的下标且返回后就重置序列，第二个那个 $+ 2^i$ 的形式很像 $FWT$。<strong>题目保证 $X \oplus Y$ 不变。</strong></p>
<p>考虑构造 $A$ 矩阵使得它就是 $FWT$（允许乘上系数），普通的 $FWT$ 矩阵是这样的：</p>
<p>$$<br>\begin{bmatrix} 1 &amp; 1 \ 1 &amp; -1 \end{bmatrix}<br>\quad<br>$$</p>
<p>但它不满足 $AA^T = I$（手玩即可验证）。事实上让矩阵每个元素乘上 $\frac{1}{\sqrt{2}}$ 这个系数即可。</p>
<p>现在我们能用操作二做 $FWT$ 了！考虑它实现了什么，以建立与操作一的联系：$a’_T = ( (-1)^{|T \cap X|} + (-1)^{|T \cap Y|} )a_X$（$a_X = a_Y$），而这个玩意只有在 $|T \cap X|$ 和 $|T \cap Y|$ 奇偶性相同的情况下才不为 $0$。由 $FWT$ 的推导过程可知，$T \cap (X \oplus Y)$ 为偶数。也就是说 query() 返回的任何值与 $X \oplus Y$ 的 $And$ 为偶数。由于随机，期望 $O(n)$ 次出解（<a href="https://wuhongxun.blog.uoj.ac/blog/3112" target="_blank" rel="noopener">官方题解</a>有详细说明，我不是很懂QAQ，只是觉得这玩意概率挺正确）</p>
<p><a href="https://uoj.ac/submission/446587" target="_blank" rel="noopener">$Code$</a></p>
<h3 id="AGC026F-Manju-Game"><a href="#AGC026F-Manju-Game" class="headerlink" title="[AGC026F-Manju\ Game]"></a>[AGC026F-Manju\ Game]</h3><p><a href="https://www.cnblogs.com/zhouzhendong/archive/2004/01/13/AGC026F.html" target="_blank" rel="noopener">周指导博客</a></p>
<p>好妙的博弈啊。$n$ 为偶数，$A$ 随便选个不是端点的点都会丢掉先手的优厚权利，只能从某个端点取。</p>
<p>$n$ 为奇数，$A$ 显然也不会选奇数位，先计入从端点开始取完的策略，剩下那一定是 $A$ 选了若干次偶数位后剩下一个长度为奇数的区间，$A$ 从端点开始取完。</p>
<p>考虑建出策略的二叉树，那些叶子代表着最后剩下的长度为奇数的区间。$A$ 的获益可以分为 $[1, l - 1]$ 偶数位，$[l, r]$ 奇数位，$[l + 1, n]$ 偶数位。从另一种角度看，二相当于区间取反。一、三都是确定的，二怎么算呢？B 会尽量导向劣的奇数长度区间，那我们要最大化最劣的奇数长度区间里 $A - B$ 的贡献，二分就可以了。</p>
<h3 id="Harry-the-Potter"><a href="#Harry-the-Potter" class="headerlink" title="$Harry\ the\ Potter$"></a><a href="https://www.luogu.com.cn/problem/CF1286F" target="_blank" rel="noopener">$Harry\ the\ Potter$</a></h3><p>破特！。好来讲这题，考虑连边，形成树，这树若是成功删为全 $0$ 那么相当于省了一次操作，否则单点操作不会更劣。考虑哪些点能组成森林，先预处理一棵树能否成功删完。</p>
<p>先不考虑 $\pm 1$，我们从叶子删到根，每个节点对根最终值的贡献的符号为深度奇偶性。考虑 $\pm 1$，设奇数层为 $A$，偶数层为 $B$，我们发现只要 $|sum(A) - sum(B)| &lt; |S|$ 且 $|S - 1|$ 与 $sum(S)$ 奇偶性相同则能删完。</p>
<p>$O(3^n)$ 枚举子集不太乐观，考虑折半搜索，形成的两个权值集合分别排序，匹配，复杂度是 $\sum\limits_{i = 0}^{|S|} \binom{|S|}{i} 2^{\frac{|S|}{2}}$，二项式定理一算是 $O((1 + \sqrt{2})^n)$。后面跑个子集卷积自己卷自己 $n$ 次，或者直接 $O(3^n)$ 也没慢到哪去（什</p>
<h2 id="mathcal-1-8"><a href="#mathcal-1-8" class="headerlink" title="$\mathcal{1.8}$"></a>$\mathcal{1.8}$</h2><hr>
<h3 id="XJOI1645"><a href="#XJOI1645" class="headerlink" title="$XJOI1645$"></a>$XJOI1645$</h3><p>今天是学习新知识场。</p>
<h4 id="T1-4"><a href="#T1-4" class="headerlink" title="$T1$"></a>$T1$</h4><p>学习 $PAM$ ing。重要性质：<strong>一个串的本质不同回文子串个数是 $O(n)$ 级别的</strong>（其实这点也可以从 $manacher$ 看出来）。</p>
<p>二分答案。不能同时出现一个串和它的子串，这对应在 $PAM$ 上就是建出由 $(x, ch[x, -])$ 和 $(x, fail[x])$ 组成的 $DAG$ 后在 $DAG$ 上求最长反链。什么你不知道什么是最长反链？<a href="">指路caiji blog</a>。</p>
<h4 id="T2-4"><a href="#T2-4" class="headerlink" title="$T2$"></a>$T2$</h4><p>LCT 没法让一对点的子树信息都正确！只能 $siz[y] - lit[y] - 1$ 了。</p>
<h4 id="T3-4"><a href="#T3-4" class="headerlink" title="$T3$"></a>$T3$</h4><p>hhz 扔个柿子就跑了 “这是 $Pollard-Rho$ 板题”：</p>
<p>$$\sum\limits_{d | n} \sum\limits_{g | d} \mu(g) \phi(d)^K \sum\limits_{i = 1}^{\lfloor \frac{n}{gd} \rfloor} ig$$</p>
<p>对每个 $K$ 跑一遍 $P-R$。但我不会而且并不太想订，所以咕咕。。</p>
<h3 id="Raining-Season"><a href="#Raining-Season" class="headerlink" title="$Raining\ Season$"></a><a href="https://codeforces.com/contest/1019/problem/E" target="_blank" rel="noopener">$Raining\ Season$</a></h3><p>容易发现我们要求的是<strong>朝下</strong>的半平面交。普通的半平面交对本题没有启发性。实际上它可以用和求<strong>上</strong>凸壳几乎一样的方法解决，只需要把 $ax + b$ 看作 $(a, b)$。为什么？假设半平面交有 $a$ 和 $b$，弹 $b$ 出栈的条件是 $a$ 和 $b$ 的交点在 $c$ 下面；凸包弹 $b$ 出栈的条件是 $(b - a) \times (c - a) &gt; 0$；把两个柿子展开发现是一样的。<a href="https://trinkle.blog.uoj.ac/blog/235" target="_blank" rel="noopener">大佬博客写得挺详细。</a></p>
<p>所以边分 + 闵可夫斯基合并凸包即可。<strong>注意：边分两倍空间。</strong></p>
<p><a href="https://codeforces.com/contest/1019/submission/103716170" target="_blank" rel="noopener">$Code$</a></p>
<h2 id="mathcal-1-9"><a href="#mathcal-1-9" class="headerlink" title="$\mathcal{1.9}$"></a>$\mathcal{1.9}$</h2><hr>
<h3 id="LOJ6275-棋盘"><a href="#LOJ6275-棋盘" class="headerlink" title="$LOJ6275-棋盘$"></a><a href="https://loj.ac/p/6275" target="_blank" rel="noopener">$LOJ6275-棋盘$</a></h3><p>dp，$f_{i, s, j}$ 表示做完 $i$ 列，末列状态为 $s$，连通块 $j$ 个的方案数。建立 $f$ 的 OGF：$F_{i, s} = \sum\limits_{j = 0}^{nm} f_{i, s, j} x^j$，则有 $F_{i, s} = \sum F_{i - 1, s’}$，第二维看作矩乘 $F_i = F_{i - 1} * A$，我们要求的即是 $ans = \sum_s [x^k] A^m$。</p>
<p>多项式乘法显然不现实，带单位根进去求出多项式点值再 $IDFT$ 回来就好。</p>
<ul>
<li>坑点：存在合并连通块的情况。要把 ‘101’ 拆成没有不会合并和可能合并两个状态。例如：<pre><code>不合并：       可能合并：
11           11
00           10
01           11
</code></pre></li>
</ul>
<p><a href="https://loj.ac/s/1029957" target="_blank" rel="noopener">$Code$</a></p>
<h2 id="突然的安排，要回归文化课三周了，希望水平不降反升（你贪心了）"><a href="#突然的安排，要回归文化课三周了，希望水平不降反升（你贪心了）" class="headerlink" title="突然的安排，要回归文化课三周了，希望水平不降反升（你贪心了）"></a>突然的安排，要回归文化课三周了，希望水平不降反升（你贪心了）</h2><h1 id="春宵苦短，少女前进吧！"><a href="#春宵苦短，少女前进吧！" class="headerlink" title="春宵苦短，少女前进吧！"></a><em>春宵苦短，少女前进吧！</em></h1><p>学习二进制分组思想：在线，维护 $logn$ 个块，大小分别为 $2^k$, $2^{k - 1}$, $\cdots$, 动态往末尾插入新元素，当第 $i$ 块的 $size$ = 第 $i - 1$ 块的 $size$ 时就合并 $i$ 和 $i - 1$，查询就在 $logn$ 个块上二分，复杂度 $O(n <em> T(n) </em> logn)$，其中 $T(n)$ 时合并一次的复杂度。证明可以均摊分析（类似二进制加法），“到下一次操作的时间和块大小相等”，设 $n \cdot T(n)$ 为处理大小为 n 的块的时间，$O(\sum\limits_{i = 1}^{logn} \frac{n}{2^i} \cdot 2^i \cdot T(2^i) ) = O(n \cdot T(n) \cdot logn)$</p>
<h3 id="玄学"><a href="#玄学" class="headerlink" title="玄学"></a><a href="https://uoj.ac/problem/46" target="_blank" rel="noopener">玄学</a></h3><p>首先这操作支持复合。看到查询操作想到二进制拆分什么的… 没错，二进制分组，以操作为下标，每个块维护序列——显然有很多相邻位置的操作相同（因为 $q$ 个操作只会造成 $O(q)$ 种不同操作），把每块缩成一个点就好，总点数一只 $log$（不过是 $nlogn$ 还是 $qlogq$ 啊？），合并复杂度是 $O(块大小)$，归并即可。</p>
<p><a href="https://uoj.ac/submission/447523" target="_blank" rel="noopener">$Code$</a></p>
<h2 id="mathcal-1-16"><a href="#mathcal-1-16" class="headerlink" title="$\mathcal{1.16}$"></a>$\mathcal{1.16}$</h2><hr>
<p>经历了一周的whk摧残，现在来报个平安 [抱拳]</p>
<h3 id="XJOI1651"><a href="#XJOI1651" class="headerlink" title="$XJOI1651$"></a>$XJOI1651$</h3><h4 id="T1-5"><a href="#T1-5" class="headerlink" title="$T1$"></a>$T1$</h4><p>就是 $0 \leq pre_i \leq pre_n$ 啦。画折线图发现 $C$ 都选，$T$ 选不选要考虑会不会让前面的 $\max{pre_i}$ 超过 $pre_n$，$O(Qn)$</p>
<p>照着折线图胡结论：$ans = -(pre_{mn} + suf_{mn})$，其中 $pre_{mn}$ 和 $suf_{mn}$ 不重叠，首先 $ans$ 必然不会小于这个东西，其次不会更大，如果更大意味着中间地带有前后缀为负数，矛盾。</p>
<h4 id="T2-5"><a href="#T2-5" class="headerlink" title="$T2$"></a>$T2$</h4><p>hhz 说看成一个状态的 dfs 树，每次匈牙利找一条增广环（显然要环，才能从一个完美匹配变成另一个完美匹配），复杂度 O(Knm)，因为 dfs 树点数为 O(Kn)，单次匈牙利为 O(m)</p>
<p>把 dfs 树怎么缩成二叉树，就变成 O(Km) 了？每次匈牙利不局限于找定点的增广环而是找全局的增广环？不太懂。</p>
<h4 id="T3-5"><a href="#T3-5" class="headerlink" title="$T3$"></a>$T3$</h4><p><a href="https://www.luogu.com.cn/problem/P6499" target="_blank" rel="noopener">原题</a> 就是问你能否用 $K$ 个点堵住根到所有叶子的路径。首先裁剪树，剪掉深度 $&gt; K$ 的和深度不足 $K$ 的子树（设根深度为 $0$）。考虑最坏情况，根下挂着 $K$ 条长度为 $K$ 的链，每次堵一个深度为 $i$ 的点，$K$ 次刚好堵完；其余情况也就是有多叉的点，一次堵可能会堵掉多个叶子，所以上面那种是最坏情况。</p>
<p>S 只有在 $n &gt; K * K + 1$ 时才获胜，所以 $K &gt; 19$ 时直接 DA。一个深度选一个点，状压，$f[i, s]$ 表示选了深度集合为 $s$ 的点，覆盖了 $1$ ~ $i$ 的叶子。</p>
<h3 id="舌尖上的方伯伯"><a href="#舌尖上的方伯伯" class="headerlink" title="舌尖上的方伯伯"></a><a href="https://www.luogu.com.cn/problem/P3289" target="_blank" rel="noopener">舌尖上的方伯伯</a></h3><h3 id="水池"><a href="#水池" class="headerlink" title="水池"></a><a href="https://www.luogu.com.cn/problem/P6794" target="_blank" rel="noopener">水池</a></h3><h3 id="NOI2017-泳池"><a href="#NOI2017-泳池" class="headerlink" title="$NOI2017-泳池$"></a><a href="https://www.luogu.com.cn/problem/P3824" target="_blank" rel="noopener">$NOI2017-泳池$</a></h3><h3 id="曼哈顿距离最小生成树"><a href="#曼哈顿距离最小生成树" class="headerlink" title="曼哈顿距离最小生成树"></a><a href="https://darkbzoj.tk/problem/2177" target="_blank" rel="noopener">曼哈顿距离最小生成树</a></h3><p>连边 $O(n^2)$，然而和 $A$ 连边，只要把以 $A$ 为坐标原点的坐标系每 $45$ 度划为一块，每块选离 $A$ 最近的点连边，边数 $O(n)$</p>
<p>证明的话，考虑每块的 $y$ 和 $x$ 相对大小都是确定的，把绝对值拆开大力分讨就好。以 $45$ ~ $90$ 度这个区间为例，设该区域内有两个点 $B(x_1, y_1)$、$C(x_2, y_2)$，设 $AB \leq AC$，我们要证无论如何 $AC \geq BC$</p>
<p>$AB = x_1 + y_1, AC = x_2 + y_2$</p>
<ol>
<li><p>$x_1 &gt; x_2, y_1 &gt; y_2$</p>
<p> 不满足 $AB \leq AC$.</p>
</li>
<li><p>$x_1 \leq x_2, y_1 &gt; y_2$</p>
<p> $BC = x_2 - x_1 + y_1 - y_2$</p>
<p> $AC - BC = x_1 - y_1 + 2 * y_2$</p>
<p> 假设 $AC &lt; BC, y_1 &gt; x_1 + 2 * y_2$</p>
<p> 由于 $y_1 &gt; y_2 &gt; x_2 &gt; x_1,$</p>
<p> $AB = x_1 + y_1 &gt; 2 <em> x_1 + 2 </em> y_2$, $AC = x_2 + y_2 &lt; 2 * y_2 &lt; AB$，矛盾</p>
</li>
<li><p>$x_1 &gt; x_2, y_1 \leq y_2$</p>
<p> 与 $2$ 同理.</p>
</li>
<li><p>$x_1 \leq x_2, y_1 \leq y_2$</p>
<p> $AB + BC = AC, AC &gt; AB$</p>
</li>
</ol>
<p>综上所述，$AC \geq BC$，根据 $Kruskal$ 的原理，$AC$ 永远不会被连上。</p>
<p>实际考虑四个区域就行了，因为边是双向的。方便的实现方法是把 $-90$ ~ $45$ 的点都翻到 $45$ ~ $90$ 里来。<br>$(x’, y’)$ 在以 $A(x, y)$ 为原点的 $45$ ~ $90$ 区域里，当且仅当 $y - x \leq y’ - x’$，查询 $y’ - x’ \geq y - x$ 中 $x’ + y’$ 最小的点就好了。把所有点按 $y - x$ 离散，按 $x$ 排序，树状数组维护。</p>
<p>出现了灵异事件——把结构体直接按照 $y - x$ 排序会错，而把 $y - x$ 拎到临时数组里再离散化就对了，人都调傻了，这是为啥啊？</p>
<p><a href="https://darkbzoj.tk/submission/105321" target="_blank" rel="noopener">$Code$</a></p>
<p>学习广义 SAM。</p>
<h3 id="诸神眷顾的幻想乡"><a href="#诸神眷顾的幻想乡" class="headerlink" title="诸神眷顾的幻想乡"></a><a href="https://www.luogu.com.cn/problem/P3346" target="_blank" rel="noopener">诸神眷顾的幻想乡</a></h3><p>模板题，从每个叶子出发建 Trie 树，在 Trie 树上跑 SAM，插入新点时看一下之前有没有。</p>
<h3 id="找相同字符"><a href="#找相同字符" class="headerlink" title="找相同字符"></a><a href="https://www.luogu.com.cn/problem/P3181" target="_blank" rel="noopener">找相同字符</a></h3><h3 id="CF666E-Forensic-Examination"><a href="#CF666E-Forensic-Examination" class="headerlink" title="$CF666E-Forensic\ Examination$"></a><a href="https://www.luogu.com.cn/problem/CF666E" target="_blank" rel="noopener">$CF666E-Forensic\ Examination$</a></h3><p>建广义 SAM，预处理文本串每个字符在广义 SAM 中所对的位置，查询文本串 [pl, pr] 时就从 pr 所对的位置一只向上跳跳跳，跳到最后一个长度不小于 pr - pl + 1 的位置。广义 SAM 上线段树合并“来自哪个串”。</p>
<p>需要注意，因为是保留每个节点的线段树信息，线段树合并要把合并后的信息放到<strong>新建节点</strong>上。</p>
<h3 id="CF235C-Cyclical-Quest"><a href="#CF235C-Cyclical-Quest" class="headerlink" title="$CF235C-Cyclical\ Quest$"></a><a href="https://www.luogu.com.cn/problem/CF235C" target="_blank" rel="noopener">$CF235C-Cyclical\ Quest$</a></h3><hr>
<p>一月到尾巴了，考完期末考了！</p>
<p>来学竞赛图。</p>
<h3 id="世界是个动物园"><a href="#世界是个动物园" class="headerlink" title="世界是个动物园"></a><a href="https://uoj.ac/problem/451" target="_blank" rel="noopener">世界是个动物园</a></h3><p>写在「【学习笔记】竞赛图」里了。</p>
<h3 id="XJOI1661"><a href="#XJOI1661" class="headerlink" title="$XJOI1661$"></a>$XJOI1661$</h3><h4 id="T1-6"><a href="#T1-6" class="headerlink" title="$T1$"></a>$T1$</h4><h4 id="T2-6"><a href="#T2-6" class="headerlink" title="$T2$"></a>$T2$</h4><h4 id="T3-6"><a href="#T3-6" class="headerlink" title="$T3$"></a>$T3$</h4>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/01/30/【学习笔记】竞赛图/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="imily">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="imily's notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2021/01/30/【学习笔记】竞赛图/" itemprop="url">
                  【学习笔记】竞赛图
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-01-30T20:03:37+08:00">
                2021-01-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>竞赛图(tournament)：有 $\binom{n}{2}$ 条边的有向图</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2021/01/30/【学习笔记】竞赛图/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/01/05/UOJ Long Round 1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="imily">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="imily's notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2021/01/05/UOJ Long Round 1/" itemprop="url">
                  UOJ Long Round 1
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-01-05T19:30:40+08:00">
                2021-01-05
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>好难啊。。</p>
<h2 id="T1-多线程计算"><a href="#T1-多线程计算" class="headerlink" title="$T1. 多线程计算$"></a>$T1. 多线程计算$</h2><hr>
<p>首先要知道一个事情：$n$ 个 $[0, 1)$ 数中第 $k$ 大数期望为 $\frac{k}{n + 1}$。根据概率的基本知识，我们不考虑存在灯同时亮起的情况，那么 $n * m$ 个灯依次亮起，有 $k$ 个灯亮的期望时长为 $\frac{1}{nm + 1}$，所以现在我们要算 $k$ 个灯亮且节能的状态个数，最后乘上 $\frac{k!(nm - k)!}{(nm + 1)(nm)!}$.</p>
<p>每个 $(x, y)$ 独立，分别算贡献即可。现在考虑 $(x, y)$ 给 $k$ 的贡献，容斥计算：枚举全亮的行列为 $i$、$j$，贡献为 $\binom{n}{i} \binom{m}{j} \binom{i}{x} \binom{j}{y} (-1)^{i - x} (-1)^{j - y} \binom{nm - im - jn + ij}{k - im - jn + ij}$。</p>
<p>最后那个组合数不关键，给它拆走。剩下的看似是个二维 $FFT$，实际上完全更简单——把 $\binom{n}{i} \binom{i}{x} (-1)^{i - x}$ 计到某个数组 $h_{i, y}$ 里（枚举 $y$ 对第一维做卷积），再枚举第一维对第二维做卷积，累计到 $[im + jn - ij]$ 里即可。做 $n$ 遍长度为 $m$ 的卷积和 $m$ 遍长度为 $n$ 的卷积，$O(nmlognm)$.</p>
<p><a href="https://uoj.ac/submission/446428" target="_blank" rel="noopener">$Code$</a></p>
<h2 id="T2-光伏元件"><a href="#T2-光伏元件" class="headerlink" title="$T2. 光伏元件$"></a>$T2. 光伏元件$</h2><hr>
<h2 id="T3-服务器调度"><a href="#T3-服务器调度" class="headerlink" title="$T3. 服务器调度$"></a>$T3. 服务器调度$</h2><hr>
<h2 id="T4-打击复读"><a href="#T4-打击复读" class="headerlink" title="$T4. 打击复读$"></a>$T4. 打击复读$</h2><hr>
<h2 id="T5-校验码"><a href="#T5-校验码" class="headerlink" title="$T5. 校验码$"></a>$T5. 校验码$</h2><hr>
<h2 id="T6-卫星基站建设"><a href="#T6-卫星基站建设" class="headerlink" title="$T6. 卫星基站建设$"></a>$T6. 卫星基站建设$</h2><hr>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/01/04/[LOJ6079]-养猫（线性规划转费用流）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="imily">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="imily's notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2021/01/04/[LOJ6079]-养猫（线性规划转费用流）/" itemprop="url">
                  [LOJ6079]-养猫（线性规划转费用流）
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-01-04T14:48:40+08:00">
                2021-01-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>先做了 <a href="https://www.luogu.com.cn/problem/P3980" target="_blank" rel="noopener">$志愿者招募$</a>，一样的套路——线性规划转费用流。</p>
<p>先钦定所有时间吃东西，然后选一些时刻变成睡觉。$x_i = 0/1$ 表示 $i$ 时刻是否睡觉，是的话代价为 $s_i - e_i$。</p>
<p>可以列出不等式组：</p>
<p>$$<br>\begin{array}{l}<br>    x_1 + \cdots + x_{k} \geq ms \<br>    x_1 + \cdots + x_{k} \leq k - me \<br>    \cdots \<br>    x_{n - k + 1} + \cdots + x_n \leq k - me \<br>\end{array}<br>$$</p>
<p>变成标准型（就是不等号变等号）：</p>
<p>$$<br>\begin{array}{l}<br>    x_1 + \cdots + x_{k} = ms + y_1 \<br>    x_1 + \cdots + x_{k} = k - me - z_1 \<br>    \cdots \<br>    x_{n - k + 1} + \cdots + x_n = k - me - z_{n - k + 1} \<br>\end{array}<br>$$</p>
<p>线性规划转费用流要求每个变量恰好出现一次为正、一次为负，于是添加一个等式 $0 = 0$ 并两两做差：</p>
<p>$$<br>\begin{array}{l}<br>    x_1 + \cdots + x_{k} = ms + y_1 \<br>    y_1 + z_1 = k - ms - me \<br>    x_{k + 1} + (k - ms - me) = x_1 + z_1 + y_2 \<br>    \cdots \<br>    k - me = x_{n - k + 1} + \cdots + x_n + z_{n - k + 1} \<br>\end{array}<br>$$</p>
<p>这一类线性规划转费用流的建模方法，是把等式看作点，等式平衡对应网络流中的流量平衡。</p>
<p>那么每个变量看作流，为正则是入，为负则是出。从出的等式向入的等式连 $(cap, val)$ 的边。例如本题中 $x_i$ 连边为 $(1, s_i - e_i)$，而 $y_i$, $z_i$ 等辅助变量连边为 $(\infty, 0)$。</p>
<p>对于常数（设为 $c$）也要处理，为正则视为源点发出给你的，为负则视为你发出给汇点的：$(|c|, 0)$。</p>
<p>正确性怎么理解呢qwq？最大流跑完了，每个点的等式都被满足</p>
<p>回到本题，由于第一个等式的常数 $ms$ 在等式右边，我们把右边看作入，跑最大费用流就完事了。</p>
<p><a href="https://loj.ac/s/1026388" target="_blank" rel="noopener">$Code$</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/12/29/【学习笔记】斯特林数/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="imily">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="imily's notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2020/12/29/【学习笔记】斯特林数/" itemprop="url">
                  【学习笔记】斯特林数
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-12-29T20:05:40+08:00">
                2020-12-29
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>这东西看过一遍就忘还是要手敲一遍 $L_AT_EX$ 才可以啊</p>
<p>第一类斯特林数：$n$ 元置换分为 $k$ 个轮换的方案数。有：$\sum\limits_{k = 0}^n S_1(n, k) = n!$</p>
<p>第二类斯特林数：$n$ 个元素划分为 $k$ 个非空集合的方案数。有：$\sum\limits_{k = 0}^n S_2(n, k) = B_n$，其中 $B_n$ 为贝尔数，表示 $n$ 的划分方案数。</p>
<p>递推：</p>
<p>$$S_1(n, k) = S_1(n - 1, k - 1) + (n - 1) S_1(n - 1, k)$$</p>
<p>$$S_2(n, k) = S_2(n - 1, k - 1) + k S_2(n - 1, k)$$</p>
<p>幂之间转换：</p>
<p>$$x^{\underline{n}} = \sum\limits_{k = 0}^n (-1)^{n - k} S_1(n, k) x^k \Longleftrightarrow x^n = \sum\limits_{k = 0}^n S_2(n, k) x^{\underline{k}}$$</p>
<p>$$x^{\overline{n}} = \sum\limits_{k = 0}^n  S_1(n, k) x^k \Longleftrightarrow x^n = \sum\limits_{k = 0}^n (-1)^{n - k} S_2(n, k) x^{\overline{k}}$$</p>
<p>设 $L(n, k) = \sum_j S_1(n, j) S_2(j, k) = \binom{n - 1}{k - 1} \frac{n!}{k!}$，则有</p>
<p>$$x^{\overline{n}} = \sum\limits_{k = 0}^n L(n, k)x^{\underline{k}} \Longleftrightarrow x^{\underline{n}} = \sum\limits_{k = 0}^n (-1)^{n - k} L(n, k) x^{\overline{k}}$$</p>
<p>（这是由前两条推出的，目前不知道有什么用</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/32/">32</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="imily" />
          <p class="site-author-name" itemprop="name">imily</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">312</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">110</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">imily</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  






  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  


  




	





  





  





  






  





  

  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->
  


  

</body>
</html>
